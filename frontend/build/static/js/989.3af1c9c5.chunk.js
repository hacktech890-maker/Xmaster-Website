"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[989],{6989(e,t,a){a.r(t),a.d(t,{default:()=>F});var r=a(5043),s=a(3216),n=a(5475),i=a(5772),o=a(6305),l=a(6630),c=a(579);const d="https://api.xmaster.guru/api",m="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMWUxZTFlIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIFRodW1ibmFpbDwvdGV4dD48L3N2Zz4=",x=()=>(0,c.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",fill:"currentColor",children:(0,c.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.96 6.504-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),h=()=>(0,c.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",fill:"currentColor",children:(0,c.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),p=()=>(0,c.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",fill:"currentColor",children:(0,c.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),g=()=>(0,c.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",fill:"currentColor",children:(0,c.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),u=async(e,t)=>{try{await fetch("".concat(d,"/public/share/").concat(e,"/track"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:t})})}catch(a){}},b=e=>{let{video:t,isOpen:a,onClose:s}=e;const[n,o]=(0,r.useState)(!1),[l,b]=(0,r.useState)(""),f=(0,r.useRef)(null);if((0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&s()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[a,s]),!a||!t)return null;const y=(e=>{if(!e)return m;const t=e.thumbnail;return t&&t.startsWith("http")?t:t&&t.length>3?"https://abyss.to/splash/".concat(t,".jpg"):e.file_code?"https://abyss.to/splash/".concat(e.file_code,".jpg"):m})(t),w="".concat(d,"/public/share/").concat(t._id),v="".concat(window.location.origin,"/watch/").concat(t._id).concat(t.slug?"/"+t.slug:""),j=t.title||"Watch this video",k="".concat(j),N=[{name:"Telegram",icon:(0,c.jsx)(x,{}),color:"bg-[#0088cc] hover:bg-[#0077b5]",shadow:"shadow-[0_4px_15px_rgba(0,136,204,0.3)]",onClick:()=>{u(t._id,"telegram");const e="https://t.me/share/url?url=".concat(encodeURIComponent(w),"&text=").concat(encodeURIComponent(k));window.open(e,"_blank","noopener,noreferrer"),b("Telegram"),setTimeout(()=>b(""),2e3)},priority:!0},{name:"WhatsApp",icon:(0,c.jsx)(h,{}),color:"bg-[#25D366] hover:bg-[#20bd5a]",shadow:"shadow-[0_4px_15px_rgba(37,211,102,0.3)]",onClick:()=>{u(t._id,"whatsapp");const e="https://wa.me/?text=".concat(encodeURIComponent(k+"\n\n"+w));window.open(e,"_blank","noopener,noreferrer"),b("WhatsApp"),setTimeout(()=>b(""),2e3)}},{name:"Facebook",icon:(0,c.jsx)(p,{}),color:"bg-[#1877F2] hover:bg-[#1565d8]",shadow:"shadow-[0_4px_15px_rgba(24,119,242,0.3)]",onClick:()=>{u(t._id,"facebook");const e="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(w));window.open(e,"_blank","noopener,noreferrer,width=600,height=400"),b("Facebook"),setTimeout(()=>b(""),2e3)}},{name:"Twitter / X",icon:(0,c.jsx)(g,{}),color:"bg-black hover:bg-gray-800",shadow:"shadow-[0_4px_15px_rgba(0,0,0,0.3)]",onClick:()=>{u(t._id,"twitter");const e="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(k),"&url=").concat(encodeURIComponent(w));window.open(e,"_blank","noopener,noreferrer,width=600,height=400"),b("Twitter"),setTimeout(()=>b(""),2e3)}}];return(0,c.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center",onClick:s,children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity"}),(0,c.jsxs)("div",{ref:f,className:"relative w-full sm:w-[440px] max-h-[90vh] overflow-y-auto bg-white dark:bg-[#1a1a2e] rounded-t-2xl sm:rounded-2xl shadow-2xl animate-share-slide-up",onClick:e=>e.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700/50",children:[(0,c.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,c.jsx)(i.Pum,{className:"w-5 h-5 text-blue-500"}),"Share Video"]}),(0,c.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors","aria-label":"Close",children:(0,c.jsx)(i.yGN,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,c.jsxs)("div",{className:"flex gap-3 p-4 bg-gray-50 dark:bg-white/5",children:[(0,c.jsxs)("div",{className:"w-28 h-[72px] rounded-lg overflow-hidden bg-gray-200 dark:bg-gray-700 flex-shrink-0 relative",children:[(0,c.jsx)("img",{src:y,alt:t.title,className:"w-full h-full object-cover",onError:e=>{e.target.src=m}}),t.duration&&"00:00"!==t.duration&&(0,c.jsx)("span",{className:"absolute bottom-1 right-1 px-1 py-0.5 bg-black/80 text-white text-[9px] font-medium rounded",children:t.duration})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white line-clamp-2 leading-snug",children:t.title}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5",children:[(C=t.views||0,C?C>=1e6?(C/1e6).toFixed(1).replace(/\.0$/,"")+"M":C>=1e3?(C/1e3).toFixed(1).replace(/\.0$/,"")+"K":C.toString():"0")," views",t.duration&&"00:00"!==t.duration&&" \u2022 ".concat(t.duration)]})]})]}),l&&(0,c.jsxs)("div",{className:"mx-4 mt-3 px-4 py-2.5 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl flex items-center gap-2 animate-fade-in",children:[(0,c.jsx)(i.YrT,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,c.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Shared!"===l?"Shared successfully!":"Opening ".concat(l,"...")})]}),(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-5",children:N.map(e=>(0,c.jsxs)("button",{onClick:e.onClick,className:"flex flex-col items-center gap-2 group focus:outline-none","aria-label":"Share to ".concat(e.name),children:[(0,c.jsx)("div",{className:"\n                    w-14 h-14 rounded-full flex items-center justify-center text-white \n                    ".concat(e.color," ").concat(e.shadow,"\n                    transform transition-all duration-200 \n                    group-hover:scale-110 group-active:scale-95\n                    ").concat(e.priority?"ring-2 ring-offset-2 ring-blue-400 dark:ring-offset-[#1a1a2e]":"","\n                  "),children:e.icon}),(0,c.jsx)("span",{className:"text-[11px] text-gray-600 dark:text-gray-400 font-medium leading-tight text-center",children:e.name}),e.priority&&(0,c.jsx)("span",{className:"text-[9px] text-blue-500 font-semibold -mt-1",children:"\u2605 BEST"})]},e.name))}),navigator.share&&(0,c.jsxs)("button",{onClick:async()=>{if(navigator.share)try{u(t._id,"native"),await navigator.share({title:j,text:k,url:w}),b("Shared!"),setTimeout(()=>{b(""),s()},1500)}catch(e){"AbortError"!==e.name&&console.error("Share failed:",e)}},className:"w-full py-3 mb-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:[(0,c.jsx)(i.HaR,{className:"w-5 h-5"}),"More Share Options"]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Video Link"}),(0,c.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-gray-700/50 rounded-xl",children:[(0,c.jsx)("input",{type:"text",readOnly:!0,value:v,className:"flex-1 bg-transparent text-sm text-gray-700 dark:text-gray-300 outline-none truncate px-2 font-mono",onClick:e=>e.target.select()}),(0,c.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(v)}catch(e){const t=document.createElement("input");t.value=v,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}u(t._id,"copy"),o(!0),setTimeout(()=>o(!1),2500)},className:"\n                  flex items-center gap-1.5 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all whitespace-nowrap\n                  ".concat(n?"bg-green-500 text-white shadow-lg shadow-green-500/25":"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/25","\n                "),children:n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.YrT,{className:"w-4 h-4"}),"Copied!"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.nxz,{className:"w-4 h-4"}),"Copy"]})})]})]}),(0,c.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/30 rounded-xl",children:(0,c.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-400 leading-relaxed",children:[(0,c.jsx)("strong",{children:"\ud83d\udca1 Tip:"})," For the best preview with thumbnail on Telegram, use the Telegram share button above. The link will show a rich preview card with the video thumbnail."]})})]}),(0,c.jsx)("div",{className:"h-2 sm:h-0"})]}),(0,c.jsx)("style",{children:"\n        @keyframes share-slide-up {\n          from {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        .animate-share-slide-up {\n          animation: share-slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n        }\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(-4px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.2s ease-out;\n        }\n      "})]});var C},f=e=>{let{video:t,className:a="",variant:s="default"}=e;const[n,o]=(0,r.useState)(!1),l=(0,r.useCallback)(()=>{o(!0)},[]),d=(0,r.useCallback)(()=>{o(!1)},[]);return"icon-only"===s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors ".concat(a),"aria-label":"Share video",title:"Share",children:(0,c.jsx)(i.Pum,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,c.jsx)(b,{video:t,isOpen:n,onClose:d})]}):"compact"===s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-dark-100 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-200 transition-all ".concat(a),children:[(0,c.jsx)(i.Pum,{className:"w-3.5 h-3.5"}),"Share"]}),(0,c.jsx)(b,{video:t,isOpen:n,onClose:d})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{onClick:l,className:"flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium bg-gray-100 dark:bg-dark-100 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-200 transition-all ".concat(a),children:[(0,c.jsx)(i.Pum,{className:"w-4 h-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"Share"})]}),(0,c.jsx)(b,{video:t,isOpen:n,onClose:d})]})},y="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMWUxZTFlIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIFRodW1ibmFpbDwvdGV4dD48L3N2Zz4=",w="<script>\n    atOptions = {\n      'key' : '14ec0d1a96c62198d09309e2e93cdbe1',\n      'format' : 'iframe',\n      'height' : 250,\n      'width' : 300,\n      'params' : {}\n    };\n  <\/script>\n  <script src=\"https://www.highperformanceformat.com/14ec0d1a96c62198d09309e2e93cdbe1/invoke.js\"><\/script>",v="<script>\n    atOptions = {\n      'key' : '63bdafcb22010cae5f0bf88ebb77480d',\n      'format' : 'iframe',\n      'height' : 90,\n      'width' : 728,\n      'params' : {}\n    };\n  <\/script>\n  <script src=\"https://www.highperformanceformat.com/63bdafcb22010cae5f0bf88ebb77480d/invoke.js\"><\/script>",j="<script>\n    atOptions = {\n      'key' : '6234f16279422f68f13fae0f6cd38e19',\n      'format' : 'iframe',\n      'height' : 50,\n      'width' : 320,\n      'params' : {}\n    };\n  <\/script>\n  <script src=\"https://www.highperformanceformat.com/6234f16279422f68f13fae0f6cd38e19/invoke.js\"><\/script>",k='<script async="async" data-cfasync="false" src="https://pl28697514.effectivegatecpm.com/ff1ceb8407fd04d767e71ec9b3d366ef/invoke.js"><\/script>\n  <div id="container-ff1ceb8407fd04d767e71ec9b3d366ef"></div>',N=e=>e?e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString():"0",C=e=>{if(!e)return"Unknown";const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},S=e=>{if(!e)return"";const t=new Date,a=new Date(e);if(isNaN(a.getTime()))return"";const r=Math.floor((t-a)/1e3);return r<60?"Just now":r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):r<604800?"".concat(Math.floor(r/86400),"d ago"):r<2592e3?"".concat(Math.floor(r/604800),"w ago"):C(e)},I=e=>{if(!e)return y;const t=e.thumbnail;return t&&t.startsWith("http")?t:t&&t.length>3?"https://abyss.to/splash/".concat(t,".jpg"):e.file_code?"https://abyss.to/splash/".concat(e.file_code,".jpg"):y},_=e=>e?"string"===typeof e?e:e.name?e.name:null:null,M=e=>{let{adCode:t,label:a="Sponsored",className:s=""}=e;const n=(0,r.useRef)(null),i=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(!t||!n.current||i.current)return;const e=n.current;e.innerHTML="",i.current=!0;const a=document.createElement("div");a.innerHTML=t;const r=a.querySelectorAll("script"),s=t.replace(/<script[\s\S]*?<\/script>/gi,"");if(s.trim()){const t=document.createElement("div");t.innerHTML=s,e.appendChild(t)}return r.forEach(t=>{const a=document.createElement("script");Array.from(t.attributes).forEach(e=>a.setAttribute(e.name,e.value)),t.textContent&&(a.textContent=t.textContent),t.src&&(a.src=t.src,a.async=!0),e.appendChild(a)}),()=>{e&&(e.innerHTML=""),i.current=!1}},[t]),t?(0,c.jsxs)("div",{className:"ad-slot ".concat(s),children:[a&&(0,c.jsx)("span",{className:"text-[10px] text-gray-500 dark:text-gray-600 uppercase tracking-wider mb-1 block",children:a}),(0,c.jsx)("div",{ref:n,className:"ad-content flex justify-center items-center bg-gray-50 dark:bg-dark-200 rounded-xl overflow-hidden"})]}):null},T=()=>{const e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(e.current)return;e.current=!0;const t=document.createElement("script");return t.src="https://pl28697422.effectivegatecpm.com/7e/56/ba/7e56ba1b0754a8958ee3f0800dac7a0d.js",t.async=!0,document.body.appendChild(t),()=>{document.body.contains(t)&&document.body.removeChild(t),e.current=!1}},[]),null};const z=e=>{let{video:t}=e;const[a,s]=(0,r.useState)(!1);return(0,c.jsxs)(n.N_,{to:"/watch/".concat(t._id).concat(t.slug?"/".concat(t.slug):""),className:"flex gap-3 group rounded-xl hover:bg-gray-100 dark:hover:bg-dark-200 p-2 transition-colors",children:[(0,c.jsxs)("div",{className:"relative w-[168px] min-w-[168px] sm:w-[180px] sm:min-w-[180px]",children:[(0,c.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-200 dark:bg-dark-100",children:(0,c.jsx)("img",{src:a?y:I(t),alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:()=>s(!0)})}),t.duration&&"00:00"!==t.duration&&(0,c.jsx)("span",{className:"absolute bottom-1.5 right-1.5 px-1.5 py-0.5 bg-black/80 text-white text-[10px] font-medium rounded",children:t.duration})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0 py-0.5",children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-500 line-clamp-2 leading-snug transition-colors",children:t.title}),(0,c.jsxs)("div",{className:"mt-2 space-y-0.5",children:[(0,c.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[(0,c.jsx)(i.Vap,{className:"w-3 h-3"}),N(t.views||0)," views"]}),(0,c.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:S(t.uploadDate||t.createdAt)}),t.category&&_(t.category)&&(0,c.jsx)("p",{className:"text-xs text-primary-500",children:_(t.category)})]})]})]})},F=function(){var e;const{id:t}=(0,s.g)(),[a,d]=(0,r.useState)(null),[m,x]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[g,u]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),[S,F]=(0,r.useState)(0),[R,V]=(0,r.useState)(0),[Z,A]=(0,r.useState)(!1),[W,E]=(0,r.useState)(!1),[H,D]=(0,r.useState)(!1),[L,P]=(0,r.useState)(""),[G,B]=(0,r.useState)(window.innerWidth<1024);if((0,r.useEffect)(()=>{const e=()=>B(window.innerWidth<1024);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(!a)return;const e=I(a);document.title="".concat(a.title," - Xmaster");const t=function(e,t){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"name":"property";let r=document.querySelector("meta[".concat(a,'="').concat(e,'"]'));r||(r=document.createElement("meta"),r.setAttribute(a,e),document.head.appendChild(r)),r.setAttribute("content",t)};return t("og:title",a.title),t("og:description",a.description||"Watch ".concat(a.title," on Xmaster")),t("og:image",e),t("og:url",window.location.href),t("og:type","video.other"),t("og:site_name","Xmaster"),t("twitter:card","summary_large_image",!0),t("twitter:title",a.title,!0),t("twitter:description",a.description||"Watch ".concat(a.title," on Xmaster"),!0),t("twitter:image",e,!0),()=>{document.title="Xmaster - Watch Videos Online"}},[a]),(0,r.useEffect)(()=>{(async()=>{p(!0),u(null),x([]);try{var e,a;const l=await o.G.getVideo(t),c=(null===(e=l.data)||void 0===e?void 0:e.video)||(null===(a=l.data)||void 0===a?void 0:a.data)||l.data;d(c),F(c.likes||0),V(c.dislikes||0);try{await o.G.recordView(t)}catch(n){}try{var r;const e=await o.G.getRelatedVideos(t,15);null!==(r=e.data)&&void 0!==r&&r.success&&x(e.data.videos||[])}catch(n){try{var s;const e=await o.G.getRandomVideos(15,t);null!==(s=e.data)&&void 0!==s&&s.success&&x(e.data.videos||[])}catch(i){}}}catch(l){u("Failed to load video")}finally{p(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[t]),h)return(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400 flex items-center justify-center",children:(0,c.jsx)(l.A,{})});if(g||!a)return(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400 flex flex-col items-center justify-center px-4",children:[(0,c.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude15"}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Video Not Found"}),(0,c.jsx)("p",{className:"text-gray-400 mb-6",children:g||"This video may have been removed."}),(0,c.jsx)(n.N_,{to:"/",className:"btn-primary px-6 py-3",children:"Go Home"})]});const O=a.embed_code||a.embedUrl||"",U=a.duration&&"00:00"!==a.duration?a.duration:null,Y=m.filter(e=>e._id!==t),J=[];return a.category&&_(a.category)&&J.push(a.category),a.categories&&Array.isArray(a.categories)&&a.categories.forEach(e=>{const t=_(e);t&&!J.find(e=>_(e)===t)&&J.push(e)}),(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400",children:[(0,c.jsx)(T,{}),(0,c.jsx)("div",{className:"max-w-[1400px] mx-auto px-0 sm:px-4 lg:px-6 py-0 sm:py-4",children:(0,c.jsxs)("div",{className:"flex flex-col lg:flex-row gap-0 sm:gap-6",children:[(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("div",{className:"relative w-full bg-black sm:rounded-xl overflow-hidden",children:(0,c.jsx)("div",{className:"relative pt-[56.25%]",children:O?(0,c.jsx)("iframe",{src:O,className:"absolute inset-0 w-full h-full",frameBorder:"0",scrolling:"no",allowFullScreen:!0,title:a.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,c.jsx)("p",{children:"Video not available"})})})}),(0,c.jsxs)("div",{className:"px-4 sm:px-0 mt-3",children:[(0,c.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white leading-tight",children:a.title}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(i.Vap,{className:"w-4 h-4"}),N(a.views||0)," views"]}),(0,c.jsx)("span",{children:"\u2022"}),(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(i.wIk,{className:"w-4 h-4"}),C(a.uploadDate||a.createdAt)]}),U&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"\u2022"}),(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(i.Ohp,{className:"w-4 h-4"}),U]})]})]}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-4 pb-4 border-b border-gray-200 dark:border-dark-100",children:[(0,c.jsxs)("button",{onClick:async()=>{if(!Z)try{await o.G.likeVideo(t),F(e=>e+1),A(!0),W&&(V(e=>e-1),E(!1))}catch(e){}},className:"flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(Z?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-100 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-200"),children:[(0,c.jsx)(i.Ydy,{className:"w-4 h-4"}),(0,c.jsx)("span",{children:N(S)})]}),(0,c.jsxs)("button",{onClick:async()=>{if(!W)try{await o.G.dislikeVideo(t),V(e=>e+1),E(!0),Z&&(F(e=>e-1),A(!1))}catch(e){}},className:"flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(W?"bg-gray-600 text-white":"bg-gray-100 dark:bg-dark-100 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-200"),children:[(0,c.jsx)(i.rxb,{className:"w-4 h-4"}),(0,c.jsx)("span",{children:N(R)})]}),(0,c.jsx)(f,{video:a}),(0,c.jsxs)("button",{onClick:()=>D(!H),className:"flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium bg-gray-100 dark:bg-dark-100 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-200 transition-all ml-auto",children:[(0,c.jsx)(i.QsL,{className:"w-4 h-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"Report"})]})]}),H&&(0,c.jsxs)("div",{className:"mt-3 p-4 bg-gray-100 dark:bg-dark-200 rounded-xl animate-fade-in",children:[(0,c.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Report Video"}),(0,c.jsxs)("select",{value:L,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-100 rounded-lg text-sm text-gray-900 dark:text-white mb-2",children:[(0,c.jsx)("option",{value:"",children:"Select reason..."}),(0,c.jsx)("option",{value:"inappropriate",children:"Inappropriate Content"}),(0,c.jsx)("option",{value:"copyright",children:"Copyright Violation"}),(0,c.jsx)("option",{value:"spam",children:"Spam / Misleading"}),(0,c.jsx)("option",{value:"broken",children:"Video Not Working"}),(0,c.jsx)("option",{value:"other",children:"Other"})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("button",{onClick:async()=>{if(L.trim())try{await o.G.reportVideo(t,{reason:L}),D(!1),P(""),alert("Report submitted!")}catch(e){alert("Failed to submit report")}},disabled:!L,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Submit"}),(0,c.jsx)("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-200 dark:bg-dark-100 text-gray-700 dark:text-gray-300 text-sm rounded-lg",children:"Cancel"})]})]}),a.description&&(0,c.jsxs)("div",{className:"mt-4",children:[(0,c.jsx)("div",{className:"bg-gray-100 dark:bg-dark-200 rounded-xl p-4 cursor-pointer transition-all ".concat(b?"":"max-h-24 overflow-hidden"),onClick:()=>y(!b),children:(0,c.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:a.description})}),a.description.length>150&&(0,c.jsx)("button",{onClick:()=>y(!b),className:"flex items-center gap-1 mt-2 text-sm text-primary-600 hover:text-primary-700 font-medium",children:b?(0,c.jsxs)(c.Fragment,{children:["Show less ",(0,c.jsx)(i.wAb,{className:"w-4 h-4"})]}):(0,c.jsxs)(c.Fragment,{children:["Show more ",(0,c.jsx)(i.fK4,{className:"w-4 h-4"})]})})]}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[J.map((e,t)=>{const a=_(e),r=(e=>e?"string"===typeof e?e.toLowerCase().replace(/[^a-z0-9]+/g,"-"):e.slug?e.slug:e.name?e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):null:null)(e);return a?(0,c.jsx)(n.N_,{to:"/category/".concat(r),className:"px-3 py-1 bg-primary-600/10 text-primary-600 text-xs font-medium rounded-full hover:bg-primary-600/20 transition-colors",children:a},t):null}),null===(e=a.tags)||void 0===e?void 0:e.map((e,t)=>(0,c.jsxs)(n.N_,{to:"/tag/".concat(e),className:"px-3 py-1 bg-gray-100 dark:bg-dark-100 text-gray-600 dark:text-gray-400 text-xs rounded-full hover:bg-gray-200 dark:hover:bg-dark-200 transition-colors",children:["#",e]},"tag-".concat(t)))]}),!G&&(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)(M,{adCode:k,label:"Suggested for you",className:"rounded-xl overflow-hidden"})}),!G&&(0,c.jsx)("div",{className:"mt-6 mb-6",children:(0,c.jsx)(M,{adCode:v,label:"Sponsored",className:"flex justify-center"})}),G&&(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)(M,{adCode:j,label:"Sponsored",className:"flex justify-center"})})]}),(0,c.jsxs)("div",{className:"lg:hidden px-4 sm:px-0 mt-6 mb-8",children:[(0,c.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-4",children:"Recommended Videos"}),(0,c.jsx)("div",{className:"space-y-3",children:Y.slice(0,10).map(e=>(0,c.jsx)(z,{video:e},e._id))})]})]}),(0,c.jsx)("div",{className:"hidden lg:block w-[400px] flex-shrink-0",children:(0,c.jsxs)("div",{className:"sticky top-20",children:[(0,c.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-4",children:"Recommended Videos"}),(0,c.jsxs)("div",{className:"space-y-3",children:[Y.slice(0,3).map(e=>(0,c.jsx)(z,{video:e},e._id)),(0,c.jsx)("div",{className:"py-2",children:(0,c.jsx)(M,{adCode:w,label:"Sponsored",className:"rounded-xl overflow-hidden bg-gray-50 dark:bg-dark-200 p-3"})}),Y.slice(3,12).map(e=>(0,c.jsx)(z,{video:e},e._id))]})]})})]})})]})}}}]);
//# sourceMappingURL=989.3af1c9c5.chunk.js.map