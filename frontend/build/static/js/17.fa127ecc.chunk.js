"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[17],{5992(e,s,a){a.d(s,{A:()=>x});var t=a(5043),r=a(5772),l=a(3216),i=a(5475),n=a(5187),d=a(579);const o=e=>{let{isOpen:s,onClose:a}=e;const t=(0,l.zy)(),o=(0,l.Zp)(),{logout:c}=(0,n.A)(),x=[{path:"/admin/dashboard",icon:r.V5Y,label:"Dashboard"},{path:"/admin/videos",icon:r.pVQ,label:"Videos"},{path:"/admin/upload",icon:r.B88,label:"Upload"},{path:"/admin/categories",icon:r.QPV,label:"Categories"},{path:"/admin/ads",icon:r.z8N,label:"Ads"},{path:"/admin/reports",icon:r.QsL,label:"Reports"}];return(0,d.jsxs)(d.Fragment,{children:[s&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:a}),(0,d.jsx)("aside",{className:"fixed lg:static inset-y-0 left-0 z-50 w-64 bg-dark-300 transform transition-transform duration-300 lg:transform-none ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,d.jsxs)("div",{className:"flex flex-col h-full",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-dark-100",children:[(0,d.jsxs)(i.N_,{to:"/admin/dashboard",className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white font-bold text-xl",children:"X"})}),(0,d.jsx)("span",{className:"text-lg font-bold text-white",children:"Admin"})]}),(0,d.jsx)("button",{onClick:a,className:"lg:hidden p-2 hover:bg-dark-200 rounded-lg",children:(0,d.jsx)(r.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,d.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{return(0,d.jsxs)(i.N_,{to:e.path,onClick:a,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat((s=e.path,t.pathname===s?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-200 hover:text-white")),children:[(0,d.jsx)(e.icon,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",children:e.label})]},e.path);var s})}),(0,d.jsxs)("div",{className:"p-4 border-t border-dark-100 space-y-2",children:[(0,d.jsxs)(i.N_,{to:"/",target:"_blank",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-dark-200 hover:text-white transition-all",children:[(0,d.jsx)(r.vQY,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",children:"View Site"})]}),(0,d.jsxs)("button",{onClick:()=>{c(),o("/xmaster-admin")},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-500 transition-all w-full",children:[(0,d.jsx)(r.QeK,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",children:"Logout"})]})]})]})})]})};var c=a(9362);const x=e=>{let{children:s,title:a}=e;const[l,i]=(0,t.useState)(!1);return(0,d.jsxs)("div",{className:"min-h-screen bg-dark-400 flex",children:[(0,d.jsx)(o,{isOpen:l,onClose:()=>i(!1)}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,d.jsx)("header",{className:"bg-dark-300 border-b border-dark-100 px-4 lg:px-6 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:()=>i(!0),className:"lg:hidden p-2 hover:bg-dark-200 rounded-lg text-gray-400",children:(0,d.jsx)(r.ND1,{className:"w-6 h-6"})}),(0,d.jsx)("h1",{className:"text-xl font-semibold text-white",children:a})]}),(0,d.jsx)(c.A,{})]})}),(0,d.jsx)("main",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:s})]})]})}},4533(e,s,a){a.d(s,{A:()=>i});var t=a(5043),r=a(5772),l=a(579);const i=e=>{let{currentPage:s,totalPages:a,onPageChange:i}=e;if(a<=1)return null;return(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,l.jsx)("button",{onClick:()=>i(s-1),disabled:1===s,className:"p-2 rounded-lg bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(r.irw,{className:"w-5 h-5"})}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:(()=>{const e=[];if(a>7)if(s<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(a)}else if(s>=a-3){e.push(1),e.push("...");for(let s=a-4;s<=a;s++)e.push(s)}else{e.push(1),e.push("...");for(let a=s-1;a<=s+1;a++)e.push(a);e.push("..."),e.push(a)}else for(let s=1;s<=a;s++)e.push(s);return e})().map((e,a)=>(0,l.jsx)(t.Fragment,{children:"..."===e?(0,l.jsx)("span",{className:"px-3 py-2 text-gray-500",children:"..."}):(0,l.jsx)("button",{onClick:()=>i(e),className:"min-w-[40px] h-10 rounded-lg font-medium transition-colors ".concat(s===e?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 text-gray-700 dark:text-gray-300"),children:e})},a))}),(0,l.jsx)("button",{onClick:()=>i(s+1),disabled:s===a,className:"p-2 rounded-lg bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(r.fOo,{className:"w-5 h-5"})})]})}},6017(e,s,a){a.r(s),a.d(s,{default:()=>p});var t=a(9379),r=a(5043),l=a(5475),i=a(5772),n=a(3768),d=a(6305),o=a(5992),c=a(4533),x=a(6630),m=a(6047),h=a(579);const g=e=>{let{label:s,value:a,color:t}=e;return(0,h.jsxs)("div",{className:"bg-dark-200 rounded-xl p-4 border border-dark-100",children:[(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:s}),(0,h.jsx)("p",{className:"text-2xl font-bold mt-1 ".concat({yellow:"text-yellow-500",blue:"text-blue-500",green:"text-green-500",red:"text-red-500"}[t]),children:a})]})},p=()=>{const[e,s]=(0,r.useState)([]),[a,p]=(0,r.useState)(!0),[u,b]=(0,r.useState)({page:1,pages:1,total:0}),[j,v]=(0,r.useState)({}),[N,y]=(0,r.useState)(""),[f,w]=(0,r.useState)(1),[k,C]=(0,r.useState)(null);(0,r.useEffect)(()=>{_()},[N,f]);const _=async()=>{p(!0);try{const e=await d.Er.getReports({status:N,page:f,limit:20});e.data.success&&(s(e.data.reports),b(e.data.pagination),v(e.data.statusCounts||{}))}catch(e){n.Ay.error("Failed to load reports")}finally{p(!1)}},A=async(a,r)=>{try{(await d.Er.updateReport(a,{status:r})).data.success&&(s(e.map(e=>e._id===a?(0,t.A)((0,t.A)({},e),{},{status:r}):e)),n.Ay.success("Report updated"),C(null))}catch(l){n.Ay.error("Failed to update report")}},R={broken:"Video is broken",copyright:"Copyright violation",inappropriate:"Inappropriate content",spam:"Spam or misleading",misleading:"Misleading content",other:"Other"},S={pending:"badge-warning",reviewing:"badge-primary",resolved:"badge-success",dismissed:"badge-danger"};return(0,h.jsxs)(o.A,{title:"Reports",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[(0,h.jsx)(g,{label:"Pending",value:j.pending||0,color:"yellow"}),(0,h.jsx)(g,{label:"Reviewing",value:j.reviewing||0,color:"blue"}),(0,h.jsx)(g,{label:"Resolved",value:j.resolved||0,color:"green"}),(0,h.jsx)(g,{label:"Dismissed",value:j.dismissed||0,color:"red"})]}),(0,h.jsx)("div",{className:"bg-dark-200 rounded-xl p-4 mb-6 border border-dark-100",children:(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)(i.K7R,{className:"w-5 h-5 text-gray-400"}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("button",{onClick:()=>{y(""),w(1)},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(N?"bg-dark-100 text-gray-400 hover:text-white":"bg-primary-600 text-white"),children:"All"}),["pending","reviewing","resolved","dismissed"].map(e=>(0,h.jsx)("button",{onClick:()=>{y(e),w(1)},className:"px-4 py-2 rounded-lg text-sm font-medium capitalize transition-colors ".concat(N===e?"bg-primary-600 text-white":"bg-dark-100 text-gray-400 hover:text-white"),children:e},e))]})]})}),(0,h.jsxs)("div",{className:"bg-dark-200 rounded-xl border border-dark-100 overflow-hidden",children:[a?(0,h.jsx)(x.A,{}):0===e.length?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(i.QsL,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),(0,h.jsx)("p",{className:"text-gray-400",children:"No reports found"})]}):(0,h.jsx)("div",{className:"divide-y divide-dark-100",children:e.map(e=>{var s;return(0,h.jsx)("div",{className:"p-4 hover:bg-dark-100/50 transition-colors",children:(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[e.videoId&&(0,h.jsx)(l.N_,{to:"/watch/".concat(e.videoId._id),target:"_blank",className:"w-24 h-14 bg-dark-100 rounded overflow-hidden flex-shrink-0",children:(0,h.jsx)("img",{src:e.videoId.thumbnail,alt:e.videoId.title,className:"w-full h-full object-cover"})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-white font-medium",children:(null===(s=e.videoId)||void 0===s?void 0:s.title)||"Video Deleted"}),(0,h.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["Reason: ",(0,h.jsx)("span",{className:"text-gray-300",children:R[e.reason]||e.reason})]}),e.description&&(0,h.jsx)("p",{className:"text-gray-400 text-sm mt-2 line-clamp-2",children:e.description})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"badge ".concat(S[e.status]),children:e.status}),(0,h.jsx)("span",{className:"text-gray-500 text-sm",children:(0,m.Yq)(e.createdAt)})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:["pending"===e.status&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:()=>A(e._id,"reviewing"),className:"px-3 py-1.5 bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 rounded text-sm transition-colors",children:"Start Review"}),(0,h.jsx)("button",{onClick:()=>A(e._id,"dismissed"),className:"px-3 py-1.5 bg-gray-500/10 text-gray-400 hover:bg-gray-500/20 rounded text-sm transition-colors",children:"Dismiss"})]}),"reviewing"===e.status&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("button",{onClick:()=>A(e._id,"resolved"),className:"px-3 py-1.5 bg-green-500/10 text-green-500 hover:bg-green-500/20 rounded text-sm transition-colors",children:[(0,h.jsx)(i.YrT,{className:"w-4 h-4 inline mr-1"}),"Resolve"]}),(0,h.jsxs)("button",{onClick:()=>A(e._id,"dismissed"),className:"px-3 py-1.5 bg-gray-500/10 text-gray-400 hover:bg-gray-500/20 rounded text-sm transition-colors",children:[(0,h.jsx)(i.yGN,{className:"w-4 h-4 inline mr-1"}),"Dismiss"]})]}),e.videoId&&(0,h.jsxs)(l.N_,{to:"/watch/".concat(e.videoId._id),target:"_blank",className:"px-3 py-1.5 bg-dark-100 text-gray-400 hover:text-white rounded text-sm transition-colors",children:[(0,h.jsx)(i.HaR,{className:"w-4 h-4 inline mr-1"}),"View Video"]})]})]})]})},e._id)})}),(0,h.jsx)("div",{className:"p-4 border-t border-dark-100",children:(0,h.jsx)(c.A,{currentPage:u.page,totalPages:u.pages,onPageChange:w})})]})]})}}}]);
//# sourceMappingURL=17.fa127ecc.chunk.js.map