{"version":3,"file":"static/js/71.d8ba48df.chunk.js","mappings":"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","sources":["components/ads/AdBanner.jsx","components/video/VideoCard.jsx","components/video/VideoGrid.jsx","pages/public/HomePage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { publicAPI } from '../../services/api';\nimport { getDeviceType } from '../../utils/helpers';\n\nconst AdBanner = ({ placement, className = '' }) => {\n  const [ad, setAd] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const adRef = useRef(null);\n  const impressionRecorded = useRef(false);\n\n  useEffect(() => {\n    const fetchAd = async () => {\n      try {\n        const device = getDeviceType();\n        const response = await publicAPI.getAdByPlacement(placement, device);\n        if (response.data.success && response.data.ad) {\n          setAd(response.data.ad);\n        }\n      } catch (error) {\n        console.error('Failed to fetch ad:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAd();\n  }, [placement]);\n\n  // Record impression when ad is visible\n  useEffect(() => {\n    if (!ad || impressionRecorded.current) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          publicAPI.recordAdImpression(ad._id);\n          impressionRecorded.current = true;\n          observer.disconnect();\n        }\n      },\n      { threshold: 0.5 }\n    );\n\n    if (adRef.current) {\n      observer.observe(adRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [ad]);\n\n  const handleClick = () => {\n    if (ad) {\n      publicAPI.recordAdClick(ad._id);\n    }\n  };\n\n  if (loading || !ad) {\n    return null;\n  }\n\n  return (\n    <div \n      ref={adRef}\n      className={`ad-banner ${className}`}\n      onClick={handleClick}\n    >\n      {ad.type === 'script' || ad.type === 'html' ? (\n        <div dangerouslySetInnerHTML={{ __html: ad.code }} />\n      ) : ad.type === 'image' && ad.imageUrl ? (\n        <a href={ad.targetUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n          <img \n            src={ad.imageUrl} \n            alt={ad.name}\n            className=\"max-w-full h-auto\"\n          />\n        </a>\n      ) : (\n        <div dangerouslySetInnerHTML={{ __html: ad.code }} />\n      )}\n    </div>\n  );\n};\n\nexport default AdBanner;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiEye, FiClock } from 'react-icons/fi';\nimport { formatViews, formatDate, formatDuration } from '../../utils/helpers';\n\nconst VideoCard = ({ video, size = 'normal' }) => {\n  if (!video) return null;\n\n  const { _id, title, thumbnail, views, duration, uploadDate, category, slug } = video;\n\n  const sizes = {\n    small: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-sm line-clamp-2',\n      meta: 'text-xs',\n    },\n    normal: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-base line-clamp-2',\n      meta: 'text-sm',\n    },\n    large: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-lg line-clamp-2',\n      meta: 'text-sm',\n    },\n  };\n\n  const currentSize = sizes[size] || sizes.normal;\n\n  return (\n    <Link\n      to={`/watch/${_id}${slug ? `/${slug}` : ''}`}\n      className={`group block ${currentSize.card}`}\n    >\n      <div className=\"card card-hover\">\n        {/* Thumbnail */}\n        <div className={`relative ${currentSize.image} bg-gray-200 dark:bg-dark-100 overflow-hidden`}>\n          <img\n            src={thumbnail || '/placeholder-video.jpg'}\n            alt={title}\n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n            loading=\"lazy\"\n            onError={(e) => {\n              e.target.src = 'https://via.placeholder.com/640x360?text=Video';\n            }}\n          />\n          \n          {/* Duration Badge */}\n          {duration && (\n            <div className=\"absolute bottom-2 right-2 px-2 py-1 bg-black/80 rounded text-white text-xs font-medium flex items-center gap-1\">\n              <FiClock className=\"w-3 h-3\" />\n              {formatDuration(duration)}\n            </div>\n          )}\n          \n          {/* Hover Overlay */}\n          <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center\">\n            <div className=\"w-16 h-16 rounded-full bg-primary-600/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300\">\n              <svg className=\"w-8 h-8 text-white ml-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        {/* Info */}\n        <div className=\"p-3\">\n          <h3 className={`font-medium text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-500 transition-colors ${currentSize.title}`}>\n            {title}\n          </h3>\n          \n          <div className={`mt-2 flex items-center gap-3 text-gray-500 dark:text-gray-400 ${currentSize.meta}`}>\n            {/* Views */}\n            <span className=\"flex items-center gap-1\">\n              <FiEye className=\"w-3.5 h-3.5\" />\n              {formatViews(views)} views\n            </span>\n            \n            {/* Date */}\n            <span>‚Ä¢</span>\n            <span>{formatDate(uploadDate)}</span>\n          </div>\n\n          {/* Category */}\n          {category && (\n            <div className=\"mt-2\">\n              <span className=\"text-xs px-2 py-1 bg-gray-100 dark:bg-dark-100 text-gray-600 dark:text-gray-400 rounded-full\">\n                {category.name}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default VideoCard;","import React from 'react';\nimport VideoCard from './VideoCard';\nimport LoadingSpinner from '../common/LoadingSpinner';\n\nconst VideoGrid = ({ \n  videos = [], \n  loading = false, \n  error = null,\n  emptyMessage = 'No videos found',\n  columns = 4 \n}) => {\n  // Loading state\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-red-500 mb-2\">‚ö†Ô∏è</div>\n        <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!videos || videos.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-4xl mb-4\">üé¨</div>\n        <p className=\"text-gray-600 dark:text-gray-400\">{emptyMessage}</p>\n      </div>\n    );\n  }\n\n  const gridCols = {\n    1: 'grid-cols-1',\n    2: 'grid-cols-1 sm:grid-cols-2',\n    3: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3',\n    4: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n    5: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5',\n    6: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6',\n  };\n\n  return (\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-4 md:gap-6`}>\n      {videos.map((video) => (\n        <VideoCard key={video._id} video={video} />\n      ))}\n    </div>\n  );\n};\n\n// Skeleton loader for video grid\nexport const VideoGridSkeleton = ({ count = 8, columns = 4 }) => {\n  const gridCols = {\n    4: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n  };\n\n  return (\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-4 md:gap-6`}>\n      {[...Array(count)].map((_, i) => (\n        <div key={i} className=\"card animate-pulse\">\n          <div className=\"aspect-video bg-gray-200 dark:bg-dark-100\"></div>\n          <div className=\"p-3 space-y-2\">\n            <div className=\"h-4 bg-gray-200 dark:bg-dark-100 rounded w-3/4\"></div>\n            <div className=\"h-3 bg-gray-200 dark:bg-dark-100 rounded w-1/2\"></div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default VideoGrid;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { FiTrendingUp, FiClock, FiStar, FiChevronRight } from 'react-icons/fi';\nimport { publicAPI } from '../../services/api';\nimport VideoGrid, { VideoGridSkeleton } from '../../components/video/VideoGrid';\nimport VideoCard from '../../components/video/VideoCard';\nimport AdBanner from '../../components/ads/AdBanner';\n\nconst HomePage = () => {\n  const [data, setData] = useState({\n    featuredVideos: [],\n    latestVideos: [],\n    trendingVideos: [],\n    categories: [],\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchHomeData = async () => {\n      try {\n        const response = await publicAPI.getHomeData();\n        if (response.data.success) {\n          setData(response.data.data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch home data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchHomeData();\n  }, []);\n\n  return (\n    <>\n      <Helmet>\n        <title>Xmaster - Watch Videos Online</title>\n        <meta name=\"description\" content=\"Watch and enjoy high-quality videos on Xmaster. Your ultimate destination for entertainment.\" />\n      </Helmet>\n\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark-400\">\n        {/* Top Ad Banner */}\n        <AdBanner placement=\"home_top\" className=\"max-w-7xl mx-auto px-4 pt-4\" />\n\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex flex-col lg:flex-row gap-6\">\n            {/* Main Content */}\n            <div className=\"flex-1\">\n              {/* Featured Videos Section */}\n              {data.featuredVideos.length > 0 && (\n                <section className=\"mb-10\">\n                  <SectionHeader\n                    icon={FiStar}\n                    title=\"Featured Videos\"\n                    iconColor=\"text-yellow-500\"\n                  />\n                  {loading ? (\n                    <VideoGridSkeleton count={6} columns={3} />\n                  ) : (\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {data.featuredVideos.slice(0, 6).map((video) => (\n                        <VideoCard key={video._id} video={video} />\n                      ))}\n                    </div>\n                  )}\n                </section>\n              )}\n\n              {/* In-feed Ad */}\n              <AdBanner placement=\"home_infeed\" className=\"mb-8\" />\n\n              {/* Latest Videos Section */}\n              <section className=\"mb-10\">\n                <SectionHeader\n                  icon={FiClock}\n                  title=\"Latest Videos\"\n                  link=\"/search?sort=newest\"\n                  linkText=\"View All\"\n                  iconColor=\"text-blue-500\"\n                />\n                {loading ? (\n                  <VideoGridSkeleton count={8} />\n                ) : (\n                  <VideoGrid videos={data.latestVideos} columns={4} />\n                )}\n              </section>\n\n              {/* Another In-feed Ad */}\n              <AdBanner placement=\"home_infeed\" className=\"mb-8\" />\n\n              {/* Trending Videos Section */}\n              <section className=\"mb-10\">\n                <SectionHeader\n                  icon={FiTrendingUp}\n                  title=\"Trending Now\"\n                  link=\"/trending\"\n                  linkText=\"View All\"\n                  iconColor=\"text-red-500\"\n                />\n                {loading ? (\n                  <VideoGridSkeleton count={8} />\n                ) : (\n                  <VideoGrid videos={data.trendingVideos} columns={4} />\n                )}\n              </section>\n\n              {/* Categories Section */}\n              {data.categories.length > 0 && (\n                <section id=\"categories\" className=\"mb-10\">\n                  <SectionHeader\n                    title=\"Browse Categories\"\n                    iconColor=\"text-purple-500\"\n                  />\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n                    {data.categories.map((category) => (\n                      <CategoryCard key={category._id} category={category} />\n                    ))}\n                  </div>\n                </section>\n              )}\n            </div>\n\n            {/* Sidebar */}\n            <aside className=\"w-full lg:w-80 flex-shrink-0\">\n              <div className=\"sticky top-20 space-y-6\">\n                {/* Sidebar Ad */}\n                <AdBanner placement=\"home_sidebar\" />\n\n                {/* Quick Stats or Popular Tags could go here */}\n                <div className=\"card p-4\">\n                  <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">\n                    Quick Links\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <Link\n                      to=\"/trending\"\n                      className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors\"\n                    >\n                      <FiTrendingUp className=\"w-5 h-5 text-primary-500\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Trending Videos</span>\n                    </Link>\n                    <Link\n                      to=\"/search?sort=newest\"\n                      className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors\"\n                    >\n                      <FiClock className=\"w-5 h-5 text-blue-500\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Latest Uploads</span>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </aside>\n          </div>\n        </div>\n\n        {/* Footer Ad */}\n        <AdBanner placement=\"home_footer\" className=\"max-w-7xl mx-auto px-4 pb-6\" />\n      </div>\n    </>\n  );\n};\n\n// Section Header Component\nconst SectionHeader = ({ icon: Icon, title, link, linkText, iconColor = 'text-primary-500' }) => (\n  <div className=\"flex items-center justify-between mb-6\">\n    <h2 className=\"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white\">\n      {Icon && <Icon className={`w-6 h-6 ${iconColor}`} />}\n      {title}\n    </h2>\n    {link && (\n      <Link\n        to={link}\n        className=\"flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors\"\n      >\n        {linkText}\n        <FiChevronRight className=\"w-4 h-4\" />\n      </Link>\n    )}\n  </div>\n);\n\n// Category Card Component\nconst CategoryCard = ({ category }) => (\n  <Link\n    to={`/category/${category.slug}`}\n    className=\"group card p-4 text-center hover:shadow-lg transition-all\"\n    style={{ borderTop: `3px solid ${category.color || '#ef4444'}` }}\n  >\n    <div className=\"text-3xl mb-2\">{category.icon || 'üìÅ'}</div>\n    <h3 className=\"font-medium text-gray-900 dark:text-white group-hover:text-primary-600 transition-colors\">\n      {category.name}\n    </h3>\n    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n      {category.videoCount || 0} videos\n    </p>\n  </Link>\n);\n\nexport default HomePage;"],"names":["_ref","placement","className","ad","setAd","useState","loading","setLoading","adRef","useRef","impressionRecorded","useEffect","async","device","getDeviceType","response","publicAPI","getAdByPlacement","data","success","error","console","fetchAd","current","observer","IntersectionObserver","entries","isIntersecting","recordAdImpression","_id","disconnect","threshold","observe","_jsx","ref","concat","onClick","handleClick","recordAdClick","children","type","dangerouslySetInnerHTML","__html","code","imageUrl","href","targetUrl","target","rel","src","alt","name","video","size","title","thumbnail","views","duration","uploadDate","category","slug","sizes","small","card","image","meta","normal","large","currentSize","Link","to","_jsxs","onError","e","FiClock","formatDuration","fill","viewBox","d","FiEye","formatViews","formatDate","VideoGridSkeleton","_ref2","count","columns","gridCols","Array","map","_","i","videos","emptyMessage","LoadingSpinner","length","VideoCard","SectionHeader","icon","Icon","link","linkText","iconColor","FiChevronRight","CategoryCard","style","borderTop","color","videoCount","HomePage","setData","featuredVideos","latestVideos","trendingVideos","categories","getHomeData","fetchHomeData","_Fragment","Helmet","content","AdBanner","FiStar","slice","VideoGrid","FiTrendingUp","id"],"sourceRoot":""}