"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[804],{5992(e,s,a){a.d(s,{A:()=>x});var t=a(5043),r=a(5772),l=a(3216),i=a(5475),n=a(5187),c=a(579);const d=e=>{let{isOpen:s,onClose:a}=e;const t=(0,l.zy)(),d=(0,l.Zp)(),{logout:o}=(0,n.A)(),x=[{path:"/admin/dashboard",icon:r.V5Y,label:"Dashboard"},{path:"/admin/videos",icon:r.pVQ,label:"Videos"},{path:"/admin/upload",icon:r.B88,label:"Upload"},{path:"/admin/categories",icon:r.QPV,label:"Categories"},{path:"/admin/ads",icon:r.z8N,label:"Ads"},{path:"/admin/reports",icon:r.QsL,label:"Reports"}];return(0,c.jsxs)(c.Fragment,{children:[s&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:a}),(0,c.jsx)("aside",{className:"fixed lg:static inset-y-0 left-0 z-50 w-64 bg-dark-300 transform transition-transform duration-300 lg:transform-none ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-dark-100",children:[(0,c.jsxs)(i.N_,{to:"/admin/dashboard",className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-white font-bold text-xl",children:"X"})}),(0,c.jsx)("span",{className:"text-lg font-bold text-white",children:"Admin"})]}),(0,c.jsx)("button",{onClick:a,className:"lg:hidden p-2 hover:bg-dark-200 rounded-lg",children:(0,c.jsx)(r.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,c.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{return(0,c.jsxs)(i.N_,{to:e.path,onClick:a,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat((s=e.path,t.pathname===s?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-200 hover:text-white")),children:[(0,c.jsx)(e.icon,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"font-medium",children:e.label})]},e.path);var s})}),(0,c.jsxs)("div",{className:"p-4 border-t border-dark-100 space-y-2",children:[(0,c.jsxs)(i.N_,{to:"/",target:"_blank",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-dark-200 hover:text-white transition-all",children:[(0,c.jsx)(r.vQY,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"font-medium",children:"View Site"})]}),(0,c.jsxs)("button",{onClick:()=>{o(),d("/xmaster-admin")},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-500 transition-all w-full",children:[(0,c.jsx)(r.QeK,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"font-medium",children:"Logout"})]})]})]})})]})};var o=a(9362);const x=e=>{let{children:s,title:a}=e;const[l,i]=(0,t.useState)(!1);return(0,c.jsxs)("div",{className:"min-h-screen bg-dark-400 flex",children:[(0,c.jsx)(d,{isOpen:l,onClose:()=>i(!1)}),(0,c.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,c.jsx)("header",{className:"bg-dark-300 border-b border-dark-100 px-4 lg:px-6 py-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("button",{onClick:()=>i(!0),className:"lg:hidden p-2 hover:bg-dark-200 rounded-lg text-gray-400",children:(0,c.jsx)(r.ND1,{className:"w-6 h-6"})}),(0,c.jsx)("h1",{className:"text-xl font-semibold text-white",children:a})]}),(0,c.jsx)(o.A,{})]})}),(0,c.jsx)("main",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:s})]})]})}},5804(e,s,a){a.r(s),a.d(s,{default:()=>m});var t=a(9379),r=a(5043),l=a(5772),i=a(3768),n=a(6305),c=a(5992),d=a(6630),o=a(579);const x=e=>{let{category:s,onClose:a,onSave:n}=e;const[c,d]=(0,r.useState)({name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",icon:(null===s||void 0===s?void 0:s.icon)||"\ud83d\udcc1",color:(null===s||void 0===s?void 0:s.color)||"#ef4444",isActive:!1!==(null===s||void 0===s?void 0:s.isActive)}),[x,m]=(0,r.useState)(!1);return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl max-w-md w-full",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-dark-100",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-white",children:s?"Edit Category":"Create Category"}),(0,o.jsx)("button",{onClick:a,className:"p-2 hover:bg-dark-100 rounded-lg",children:(0,o.jsx)(l.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c.name.trim()?(m(!0),await n(c),m(!1)):i.Ay.error("Category name is required")},className:"p-6 space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,o.jsx)("input",{type:"text",value:c.name,onChange:e=>d((0,t.A)((0,t.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Category name",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:c.description,onChange:e=>d((0,t.A)((0,t.A)({},c),{},{description:e.target.value})),className:"input-field resize-none",rows:3,placeholder:"Brief description"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Icon"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["\ud83d\udcc1","\ud83c\udfac","\ud83c\udfae","\ud83c\udfb5","\ud83d\udcda","\ud83d\udcaa","\ud83c\udf73","\u2708\ufe0f","\ud83d\udd27","\ud83d\udcb0","\ud83c\udfad","\u26bd","\ud83c\udfa8","\ud83d\udcbb","\ud83d\udcf1","\ud83c\udf0d"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>d((0,t.A)((0,t.A)({},c),{},{icon:e})),className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all ".concat(c.icon===e?"bg-primary-500 ring-2 ring-primary-500 ring-offset-2 ring-offset-dark-200":"bg-dark-100 hover:bg-dark-300"),children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#a855f7","#ec4899"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>d((0,t.A)((0,t.A)({},c),{},{color:e})),className:"w-10 h-10 rounded-lg transition-all ".concat(c.color===e?"ring-2 ring-white ring-offset-2 ring-offset-dark-200":""),style:{backgroundColor:e}},e))})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-dark-100 rounded-lg cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",checked:c.isActive,onChange:e=>d((0,t.A)((0,t.A)({},c),{},{isActive:e.target.checked})),className:"rounded"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Active (visible to users)"})]})}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:a,className:"flex-1 btn-secondary",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:x,className:"flex-1 btn-primary",children:x?"Saving...":"Save Category"})]})]})]})})},m=()=>{const[e,s]=(0,r.useState)([]),[a,t]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await n.G.getCategories();e.data.success&&s(e.data.categories)}catch(e){i.Ay.error("Failed to load categories")}finally{t(!1)}},b=()=>{p(null),h(!0)};return a?(0,o.jsx)(c.A,{title:"Categories",children:(0,o.jsx)(d.A,{})}):(0,o.jsxs)(c.A,{title:"Categories",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("p",{className:"text-gray-400",children:[e.length," categories"]}),(0,o.jsxs)("button",{onClick:b,className:"btn-primary",children:[(0,o.jsx)(l.GGD,{className:"w-5 h-5"}),"Add Category"]})]}),0===e.length?(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl p-12 text-center border border-dark-100",children:[(0,o.jsx)(l.QPV,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),(0,o.jsx)("p",{className:"text-gray-400 mb-4",children:"No categories yet"}),(0,o.jsx)("button",{onClick:b,className:"btn-primary",children:"Create First Category"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>(0,o.jsx)("div",{className:"bg-dark-200 rounded-xl border border-dark-100 overflow-hidden",style:{borderTop:"4px solid ".concat(a.color||"#ef4444")},children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"".concat(a.color,"20")},children:a.icon||"\ud83d\udcc1"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-white font-semibold",children:a.name}),(0,o.jsxs)("p",{className:"text-gray-500 text-sm",children:["/",a.slug]})]})]}),(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsx)("button",{onClick:()=>(e=>{p(e),h(!0)})(a),className:"p-2 hover:bg-dark-100 rounded-lg text-gray-400 hover:text-white",children:(0,o.jsx)(l.WXf,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>(async a=>{if(window.confirm('Delete "'.concat(a.name,'"? Videos will be uncategorized.')))try{await n.Er.deleteCategory(a._id),s(e.filter(e=>e._id!==a._id)),i.Ay.success("Category deleted")}catch(t){i.Ay.error("Failed to delete category")}})(a),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500",children:(0,o.jsx)(l.IXo,{className:"w-4 h-4"})})]})]}),a.description&&(0,o.jsx)("p",{className:"text-gray-400 text-sm mt-3 line-clamp-2",children:a.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-100",children:[(0,o.jsxs)("span",{className:"text-gray-500 text-sm",children:[a.videoCount||0," videos"]}),(0,o.jsx)("span",{className:"badge ".concat(a.isActive?"badge-success":"badge-danger"),children:a.isActive?"Active":"Inactive"})]})]})},a._id))}),m&&(0,o.jsx)(x,{category:g,onClose:()=>h(!1),onSave:async a=>{try{if(g){const t=await n.Er.updateCategory(g._id,a);t.data.success&&(s(e.map(e=>e._id===g._id?t.data.category:e)),i.Ay.success("Category updated"))}else{const t=await n.Er.createCategory(a);t.data.success&&(s([...e,t.data.category]),i.Ay.success("Category created"))}h(!1)}catch(l){var t,r;i.Ay.error((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to save category")}}})]})}}}]);
//# sourceMappingURL=804.37354d9d.chunk.js.map