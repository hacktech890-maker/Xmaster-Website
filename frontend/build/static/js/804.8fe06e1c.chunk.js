"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[804],{5992(e,a,s){s.d(a,{A:()=>o});var r=s(5043),t=s(3216),l=s(5475),d=s(5772),i=s(5187),n=s(579);const c=()=>{const[e,a]=(0,r.useState)(!1),s=(0,t.zy)(),c=(0,t.Zp)(),{logout:o}=(0,i.As)(),x=[{name:"Dashboard",path:"/admin/dashboard",icon:d.V5Y},{name:"Videos",path:"/admin/videos",icon:d.pVQ},{name:"Upload",path:"/admin/upload",icon:d.B88},{name:"Categories",path:"/admin/categories",icon:d.QPV},{name:"Ads",path:"/admin/ads",icon:d.z8N},{name:"Reports",path:"/admin/reports",icon:d.QsL}],m=()=>{o(),c("/xmaster-admin")},h=()=>(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-dark-100",children:(0,n.jsxs)(l.N_,{to:"/admin/dashboard",className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-bold text-xl",children:"X"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Xmaster"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),(0,n.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{return(0,n.jsxs)(l.N_,{to:e.path,onClick:()=>a(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ".concat((r=e.path,s.pathname===r?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100")),children:[(0,n.jsx)(e.icon,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:e.name})]},e.path);var r})}),(0,n.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-dark-100 space-y-1",children:[(0,n.jsxs)(l.N_,{to:"/",className:"flex items-center gap-3 px-4 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100 rounded-lg transition-all",children:[(0,n.jsx)(d.VSk,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"View Site"})]}),(0,n.jsxs)("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all w-full",children:[(0,n.jsx)(d.QeK,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Logout"})]})]})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>a(!e),className:"fixed top-4 left-4 z-50 md:hidden p-2 bg-white dark:bg-dark-200 border border-gray-200 dark:border-dark-100 rounded-lg shadow-lg",children:e?(0,n.jsx)(d.yGN,{className:"w-5 h-5"}):(0,n.jsx)(d.ND1,{className:"w-5 h-5"})}),e&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>a(!1)}),(0,n.jsx)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-dark-300 border-r border-gray-200 dark:border-dark-100 z-40 transform transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"," md:translate-x-0"),children:(0,n.jsx)(h,{})})]})},o=e=>{let{children:a,title:s=""}=e;return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(c,{}),(0,n.jsxs)("div",{className:"flex-1 ml-0 md:ml-64",children:[s&&(0,n.jsx)("div",{className:"bg-white dark:bg-dark-300 border-b border-gray-100 dark:border-dark-100 px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:(0,n.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:s})}),(0,n.jsx)("div",{className:"p-4 sm:p-6 lg:p-8",children:a})]})]})})}},5804(e,a,s){s.r(a),s.d(a,{default:()=>m});var r=s(9379),t=s(5043),l=s(5772),d=s(3768),i=s(6305),n=s(5992),c=s(6630),o=s(579);const x=e=>{let{category:a,onClose:s,onSave:i}=e;const[n,c]=(0,t.useState)({name:(null===a||void 0===a?void 0:a.name)||"",description:(null===a||void 0===a?void 0:a.description)||"",icon:(null===a||void 0===a?void 0:a.icon)||"\ud83d\udcc1",color:(null===a||void 0===a?void 0:a.color)||"#ef4444",isActive:!1!==(null===a||void 0===a?void 0:a.isActive)}),[x,m]=(0,t.useState)(!1);return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl max-w-md w-full",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-dark-100",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-white",children:a?"Edit Category":"Create Category"}),(0,o.jsx)("button",{onClick:s,className:"p-2 hover:bg-dark-100 rounded-lg",children:(0,o.jsx)(l.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n.name.trim()?(m(!0),await i(n),m(!1)):d.Ay.error("Category name is required")},className:"p-6 space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,o.jsx)("input",{type:"text",value:n.name,onChange:e=>c((0,r.A)((0,r.A)({},n),{},{name:e.target.value})),className:"input-field",placeholder:"Category name",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:n.description,onChange:e=>c((0,r.A)((0,r.A)({},n),{},{description:e.target.value})),className:"input-field resize-none",rows:3,placeholder:"Brief description"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Icon"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["\ud83d\udcc1","\ud83c\udfac","\ud83c\udfae","\ud83c\udfb5","\ud83d\udcda","\ud83d\udcaa","\ud83c\udf73","\u2708\ufe0f","\ud83d\udd27","\ud83d\udcb0","\ud83c\udfad","\u26bd","\ud83c\udfa8","\ud83d\udcbb","\ud83d\udcf1","\ud83c\udf0d"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>c((0,r.A)((0,r.A)({},n),{},{icon:e})),className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all ".concat(n.icon===e?"bg-primary-500 ring-2 ring-primary-500 ring-offset-2 ring-offset-dark-200":"bg-dark-100 hover:bg-dark-300"),children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#a855f7","#ec4899"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>c((0,r.A)((0,r.A)({},n),{},{color:e})),className:"w-10 h-10 rounded-lg transition-all ".concat(n.color===e?"ring-2 ring-white ring-offset-2 ring-offset-dark-200":""),style:{backgroundColor:e}},e))})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-dark-100 rounded-lg cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",checked:n.isActive,onChange:e=>c((0,r.A)((0,r.A)({},n),{},{isActive:e.target.checked})),className:"rounded"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Active (visible to users)"})]})}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"flex-1 btn-secondary",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:x,className:"flex-1 btn-primary",children:x?"Saving...":"Save Category"})]})]})]})})},m=()=>{const[e,a]=(0,t.useState)([]),[s,r]=(0,t.useState)(!0),[m,h]=(0,t.useState)(!1),[g,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await i.G.getCategories();e.data.success&&a(e.data.categories)}catch(e){d.Ay.error("Failed to load categories")}finally{r(!1)}},u=()=>{p(null),h(!0)};return s?(0,o.jsx)(n.A,{title:"Categories",children:(0,o.jsx)(c.A,{})}):(0,o.jsxs)(n.A,{title:"Categories",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("p",{className:"text-gray-400",children:[e.length," categories"]}),(0,o.jsxs)("button",{onClick:u,className:"btn-primary",children:[(0,o.jsx)(l.GGD,{className:"w-5 h-5"}),"Add Category"]})]}),0===e.length?(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl p-12 text-center border border-dark-100",children:[(0,o.jsx)(l.QPV,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),(0,o.jsx)("p",{className:"text-gray-400 mb-4",children:"No categories yet"}),(0,o.jsx)("button",{onClick:u,className:"btn-primary",children:"Create First Category"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(s=>(0,o.jsx)("div",{className:"bg-dark-200 rounded-xl border border-dark-100 overflow-hidden",style:{borderTop:"4px solid ".concat(s.color||"#ef4444")},children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"".concat(s.color,"20")},children:s.icon||"\ud83d\udcc1"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-white font-semibold",children:s.name}),(0,o.jsxs)("p",{className:"text-gray-500 text-sm",children:["/",s.slug]})]})]}),(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsx)("button",{onClick:()=>(e=>{p(e),h(!0)})(s),className:"p-2 hover:bg-dark-100 rounded-lg text-gray-400 hover:text-white",children:(0,o.jsx)(l.WXf,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>(async s=>{if(window.confirm('Delete "'.concat(s.name,'"? Videos will be uncategorized.')))try{await i.Er.deleteCategory(s._id),a(e.filter(e=>e._id!==s._id)),d.Ay.success("Category deleted")}catch(r){d.Ay.error("Failed to delete category")}})(s),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500",children:(0,o.jsx)(l.IXo,{className:"w-4 h-4"})})]})]}),s.description&&(0,o.jsx)("p",{className:"text-gray-400 text-sm mt-3 line-clamp-2",children:s.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-100",children:[(0,o.jsxs)("span",{className:"text-gray-500 text-sm",children:[s.videoCount||0," videos"]}),(0,o.jsx)("span",{className:"badge ".concat(s.isActive?"badge-success":"badge-danger"),children:s.isActive?"Active":"Inactive"})]})]})},s._id))}),m&&(0,o.jsx)(x,{category:g,onClose:()=>h(!1),onSave:async s=>{try{if(g){const r=await i.Er.updateCategory(g._id,s);r.data.success&&(a(e.map(e=>e._id===g._id?r.data.category:e)),d.Ay.success("Category updated"))}else{const r=await i.Er.createCategory(s);r.data.success&&(a([...e,r.data.category]),d.Ay.success("Category created"))}h(!1)}catch(l){var r,t;d.Ay.error((null===(r=l.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to save category")}}})]})}}}]);
//# sourceMappingURL=804.8fe06e1c.chunk.js.map