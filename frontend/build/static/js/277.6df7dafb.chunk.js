"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[277],{1277(e,r,s){s.r(r),s.d(r,{default:()=>i});var a=s(5043),t=s(3216),o=s(5772),n=s(5187),l=s(6305),d=s(579);const i=()=>{const[e,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[c,m]=(0,a.useState)(""),[x,u]=(0,a.useState)(!1),h=(0,t.Zp)(),{isAuthenticated:p,login:g}=(0,n.As)();(0,a.useEffect)(()=>{p&&(console.log("\u2705 Already authenticated, redirecting to dashboard"),h("/admin/dashboard",{replace:!0}))},[p,h]);return p?(0,d.jsx)("div",{className:"min-h-screen bg-dark-400 flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-10 h-10 border-3 border-gray-700 border-t-red-500 rounded-full animate-spin"})}):(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-dark-400 via-dark-300 to-dark-400 flex items-center justify-center px-4",children:(0,d.jsxs)("div",{className:"w-full max-w-md",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary-500/30",children:(0,d.jsx)("span",{className:"text-white font-bold text-3xl",children:"X"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),(0,d.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your password to continue"})]}),(0,d.jsxs)("div",{className:"bg-dark-200 rounded-2xl p-8 border border-dark-100 shadow-2xl",children:[(0,d.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),m(""),e.trim()){u(!0);try{var s,a;console.log("\ud83d\udd11 Attempting login...");const r=await l.Er.login(e);var t;if(console.log("\ud83d\udd11 Login response:",r.data),null!==(s=r.data)&&void 0!==s&&s.success&&null!==(a=r.data)&&void 0!==a&&a.token)g(r.data.token),console.log("\u2705 Login successful, navigating to dashboard"),setTimeout(()=>{h("/admin/dashboard",{replace:!0})},100);else m((null===(t=r.data)||void 0===t?void 0:t.error)||"Login failed")}catch(i){var o,n,d;console.error("\u274c Login error:",i),401===(null===(o=i.response)||void 0===o?void 0:o.status)?m("Wrong password"):null!==(n=i.response)&&void 0!==n&&null!==(d=n.data)&&void 0!==d&&d.error?m(i.response.data.error):"ERR_NETWORK"===i.code?m("Cannot connect to server. Check your internet connection."):m("Login failed. Please try again.")}finally{u(!1)}}else m("Password is required")},className:"space-y-6",children:[c&&(0,d.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[(0,d.jsx)(o.y3G,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-red-400 text-sm",children:c})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.F5$,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,d.jsx)("input",{type:s?"text":"password",value:e,onChange:e=>r(e.target.value),placeholder:"Enter admin password",className:"w-full pl-12 pr-12 py-3 bg-dark-100 border border-dark-100 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoFocus:!0,autoComplete:"current-password"}),(0,d.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:s?(0,d.jsx)(o._NO,{className:"w-5 h-5"}):(0,d.jsx)(o.Vap,{className:"w-5 h-5"})})]})]}),(0,d.jsx)("button",{type:"submit",disabled:x||!e.trim(),className:"w-full py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-xl hover:from-primary-700 hover:to-primary-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary-500/20",children:x?(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Signing in..."})]}):"Sign In"})]}),(0,d.jsx)("div",{className:"mt-6 text-center",children:(0,d.jsx)("a",{href:"/",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"\u2190 Back to website"})})]})]})})}}}]);
//# sourceMappingURL=277.6df7dafb.chunk.js.map