"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[804],{5992(e,a,s){s.d(a,{A:()=>o});var r=s(5043),t=s(3216),l=s(5475),d=s(5772),n=s(5187),i=s(579);const c=()=>{const[e,a]=(0,r.useState)(!1),s=(0,t.zy)(),c=(0,t.Zp)(),{logout:o}=(0,n.As)(),x=[{name:"Dashboard",path:"/admin/dashboard",icon:d.V5Y},{name:"Videos",path:"/admin/videos",icon:d.pVQ},{name:"Upload",path:"/admin/upload",icon:d.B88},{name:"Categories",path:"/admin/categories",icon:d.QPV},{name:"Comments",path:"/admin/comments",icon:d.mEP},{name:"Duplicates",path:"/admin/duplicates",icon:d.nxz},{name:"Ads",path:"/admin/ads",icon:d.z8N},{name:"Reports",path:"/admin/reports",icon:d.QsL}],m=()=>{o(),c("/xmaster-admin")},g=()=>(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-dark-100",children:(0,i.jsxs)(l.N_,{to:"/admin/dashboard",className:"flex items-center gap-3",children:[(0,i.jsx)("img",{src:"/logo.jpg",alt:"Xmaster",className:"w-10 h-10 rounded-lg object-cover"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Xmaster"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),(0,i.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{return(0,i.jsxs)(l.N_,{to:e.path,onClick:()=>a(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ".concat((r=e.path,s.pathname===r?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100")),children:[(0,i.jsx)(e.icon,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:e.name})]},e.path);var r})}),(0,i.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-dark-100 space-y-1",children:[(0,i.jsxs)(l.N_,{to:"/",className:"flex items-center gap-3 px-4 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100 rounded-lg transition-all",children:[(0,i.jsx)(d.VSk,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:"View Site"})]}),(0,i.jsxs)("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all w-full",children:[(0,i.jsx)(d.QeK,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:"Logout"})]})]})]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>a(!e),className:"fixed top-4 left-4 z-50 md:hidden p-2 bg-white dark:bg-dark-200 border border-gray-200 dark:border-dark-100 rounded-lg shadow-lg",children:e?(0,i.jsx)(d.yGN,{className:"w-5 h-5"}):(0,i.jsx)(d.ND1,{className:"w-5 h-5"})}),e&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>a(!1)}),(0,i.jsx)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-dark-300 border-r border-gray-200 dark:border-dark-100 z-40 transform transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"," md:translate-x-0"),children:(0,i.jsx)(g,{})})]})},o=e=>{let{children:a,title:s=""}=e;return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400",children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(c,{}),(0,i.jsxs)("div",{className:"flex-1 ml-0 md:ml-64",children:[s&&(0,i.jsx)("div",{className:"bg-white dark:bg-dark-300 border-b border-gray-100 dark:border-dark-100 px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:(0,i.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:s})}),(0,i.jsx)("div",{className:"p-4 sm:p-6 lg:p-8",children:a})]})]})})}},5804(e,a,s){s.r(a),s.d(a,{default:()=>g});var r=s(9379),t=s(5043),l=s(5772),d=s(3768),n=s(6305),i=s(5992),c=s(6630),o=s(579);const x=e=>{let{onClose:a,onSuccess:s}=e;const[r,i]=(0,t.useState)(""),[c,x]=(0,t.useState)("\ud83d\udcc1"),[m,g]=(0,t.useState)("#ef4444"),[h,p]=(0,t.useState)(!1),[u,b]=(0,t.useState)(null),f=r.split(",").map(e=>e.trim()).filter(Boolean);return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-dark-200 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col border border-dark-100",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-dark-100 flex-shrink-0",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center",children:(0,o.jsx)(l.Wm,{className:"w-5 h-5 text-white"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-white",children:"Bulk Add Categories"}),(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"Enter comma-separated category names"})]})]}),(0,o.jsx)("button",{onClick:a,className:"p-2 hover:bg-dark-100 rounded-lg",children:(0,o.jsx)(l.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-y-auto p-5 space-y-4",children:u?(0,o.jsxs)("div",{className:"space-y-4",children:[u.created.length>0&&(0,o.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[(0,o.jsxs)("h4",{className:"text-green-400 font-medium mb-2",children:["\u2705 Created (",u.created.length,")"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:u.created.map((e,a)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-sm rounded",children:e.name},a))})]}),u.skipped.length>0&&(0,o.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[(0,o.jsxs)("h4",{className:"text-yellow-400 font-medium mb-2",children:["\u26a0\ufe0f Already Existed (",u.skipped.length,")"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:u.skipped.map((e,a)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-sm rounded",children:e.name},a))})]}),u.failed.length>0&&(0,o.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:[(0,o.jsxs)("h4",{className:"text-red-400 font-medium mb-2",children:["\u274c Failed (",u.failed.length,")"]}),(0,o.jsx)("div",{className:"space-y-1",children:u.failed.map((e,a)=>(0,o.jsxs)("p",{className:"text-red-400 text-sm",children:[e.name,": ",e.error]},a))})]}),(0,o.jsx)("button",{onClick:s,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-medium transition-colors",children:"Done"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category Names (comma separated)"}),(0,o.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),rows:4,className:"w-full px-4 py-3 bg-dark-100 border border-dark-100 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:"MILF, Teen, Anal, Amateur, Asian, Blonde, Brunette, BBW, Big Ass, Big Tits"})]}),f.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:[f.length," categories to create:"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map((e,a)=>(0,o.jsxs)("span",{className:"px-3 py-1.5 bg-green-500/10 text-green-400 text-sm rounded-full border border-green-500/20",children:[c," ",e]},a))})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Icon"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1.5",children:["\ud83d\udcc1","\ud83c\udfac","\ud83c\udfae","\ud83c\udfb5","\ud83d\udcaa","\ud83c\udf73","\u2708\ufe0f","\ud83d\udd27","\ud83d\udcb0","\ud83c\udfad","\u26bd","\ud83c\udfa8","\ud83d\udcbb","\ud83d\udd25","\u2764\ufe0f","\u2b50"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>x(e),className:"w-9 h-9 rounded-lg flex items-center justify-center text-lg transition-all ".concat(c===e?"bg-primary-500 ring-2 ring-primary-400":"bg-dark-100 hover:bg-dark-300"),children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Color"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1.5",children:["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#a855f7","#ec4899"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>g(e),className:"w-9 h-9 rounded-lg transition-all ".concat(m===e?"ring-2 ring-white ring-offset-2 ring-offset-dark-200":""),style:{backgroundColor:e}},e))})]})]}),(0,o.jsx)("button",{onClick:async()=>{if(0!==f.length){p(!0);try{const e=await n.Er.bulkCreateCategories({names:r,icon:c,color:m});e.data.success&&(b(e.data.results),e.data.results.created.length>0&&d.Ay.success("".concat(e.data.results.created.length," categories created!")),e.data.results.skipped.length>0&&(0,d.Ay)("".concat(e.data.results.skipped.length," already existed"),{icon:"\u26a0\ufe0f"}))}catch(e){d.Ay.error("Failed to create categories")}finally{p(!1)}}else d.Ay.error("Enter at least one category name")},disabled:h||0===f.length,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.GGD,{className:"w-5 h-5"}),"Create ",f.length," Categories"]})})]})})]})})},m=e=>{let{category:a,onClose:s,onSave:n}=e;const[i,c]=(0,t.useState)({name:(null===a||void 0===a?void 0:a.name)||"",description:(null===a||void 0===a?void 0:a.description)||"",icon:(null===a||void 0===a?void 0:a.icon)||"\ud83d\udcc1",color:(null===a||void 0===a?void 0:a.color)||"#ef4444",isActive:!1!==(null===a||void 0===a?void 0:a.isActive)}),[x,m]=(0,t.useState)(!1);return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl max-w-md w-full",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-dark-100",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-white",children:a?"Edit Category":"Create Category"}),(0,o.jsx)("button",{onClick:s,className:"p-2 hover:bg-dark-100 rounded-lg",children:(0,o.jsx)(l.yGN,{className:"w-5 h-5 text-gray-400"})})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i.name.trim()?(m(!0),await n(i),m(!1)):d.Ay.error("Category name is required")},className:"p-6 space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,o.jsx)("input",{type:"text",value:i.name,onChange:e=>c((0,r.A)((0,r.A)({},i),{},{name:e.target.value})),className:"input-field",placeholder:"Category name",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:i.description,onChange:e=>c((0,r.A)((0,r.A)({},i),{},{description:e.target.value})),className:"input-field resize-none",rows:3,placeholder:"Brief description"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Icon"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["\ud83d\udcc1","\ud83c\udfac","\ud83c\udfae","\ud83c\udfb5","\ud83d\udcda","\ud83d\udcaa","\ud83c\udf73","\u2708\ufe0f","\ud83d\udd27","\ud83d\udcb0","\ud83c\udfad","\u26bd","\ud83c\udfa8","\ud83d\udcbb","\ud83d\udcf1","\ud83c\udf0d","\ud83d\udd25","\u2764\ufe0f","\u2b50","\ud83d\udc8e"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>c((0,r.A)((0,r.A)({},i),{},{icon:e})),className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all ".concat(i.icon===e?"bg-primary-500 ring-2 ring-primary-500 ring-offset-2 ring-offset-dark-200":"bg-dark-100 hover:bg-dark-300"),children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#a855f7","#ec4899"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>c((0,r.A)((0,r.A)({},i),{},{color:e})),className:"w-10 h-10 rounded-lg transition-all ".concat(i.color===e?"ring-2 ring-white ring-offset-2 ring-offset-dark-200":""),style:{backgroundColor:e}},e))})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-dark-100 rounded-lg cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",checked:i.isActive,onChange:e=>c((0,r.A)((0,r.A)({},i),{},{isActive:e.target.checked})),className:"rounded"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Active (visible to users)"})]})}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"flex-1 btn-secondary",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:x,className:"flex-1 btn-primary",children:x?"Saving...":"Save Category"})]})]})]})})},g=()=>{const[e,a]=(0,t.useState)([]),[s,r]=(0,t.useState)(!0),[g,h]=(0,t.useState)(!1),[p,u]=(0,t.useState)(!1),[b,f]=(0,t.useState)(null),[j,y]=(0,t.useState)("");(0,t.useEffect)(()=>{N()},[]);const N=async()=>{try{const e=await n.G.getCategories();e.data.success&&a(e.data.categories)}catch(e){d.Ay.error("Failed to load categories")}finally{r(!1)}},v=()=>{f(null),h(!0)},k=e.filter(e=>e.name.toLowerCase().includes(j.toLowerCase()));return s?(0,o.jsx)(i.A,{title:"Categories",children:(0,o.jsx)(c.A,{})}):(0,o.jsxs)(i.A,{title:"Categories",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("p",{className:"text-gray-400",children:[e.length," categories"]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(l.CKj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,o.jsx)("input",{type:"text",placeholder:"Search categories...",value:j,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 bg-dark-100 border border-dark-100 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 w-64"})]})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[(0,o.jsx)(l.Wm,{className:"w-4 h-4"}),"Bulk Add"]}),(0,o.jsxs)("button",{onClick:v,className:"btn-primary",children:[(0,o.jsx)(l.GGD,{className:"w-5 h-5"}),"Add Category"]})]})]}),0===k.length?(0,o.jsxs)("div",{className:"bg-dark-200 rounded-xl p-12 text-center border border-dark-100",children:[(0,o.jsx)(l.QPV,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),(0,o.jsx)("p",{className:"text-gray-400 mb-4",children:j?"No categories match your search":"No categories yet"}),!j&&(0,o.jsx)("button",{onClick:v,className:"btn-primary",children:"Create First Category"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(s=>(0,o.jsx)("div",{className:"bg-dark-200 rounded-xl border border-dark-100 overflow-hidden",style:{borderTop:"4px solid ".concat(s.color||"#ef4444")},children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"".concat(s.color,"20")},children:s.icon||"\ud83d\udcc1"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-white font-semibold",children:s.name}),(0,o.jsxs)("p",{className:"text-gray-500 text-sm",children:["/",s.slug]})]})]}),(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsx)("button",{onClick:()=>(e=>{f(e),h(!0)})(s),className:"p-2 hover:bg-dark-100 rounded-lg text-gray-400 hover:text-white",children:(0,o.jsx)(l.WXf,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>(async s=>{if(window.confirm('Delete "'.concat(s.name,'"? Videos will be uncategorized.')))try{await n.Er.deleteCategory(s._id),a(e.filter(e=>e._id!==s._id)),d.Ay.success("Category deleted")}catch(r){d.Ay.error("Failed to delete category")}})(s),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500",children:(0,o.jsx)(l.IXo,{className:"w-4 h-4"})})]})]}),s.description&&(0,o.jsx)("p",{className:"text-gray-400 text-sm mt-3 line-clamp-2",children:s.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-100",children:[(0,o.jsxs)("span",{className:"text-gray-500 text-sm",children:[s.videoCount||0," videos"]}),(0,o.jsx)("span",{className:"badge ".concat(s.isActive?"badge-success":"badge-danger"),children:s.isActive?"Active":"Inactive"})]})]})},s._id))}),g&&(0,o.jsx)(m,{category:b,onClose:()=>h(!1),onSave:async s=>{try{if(b){const r=await n.Er.updateCategory(b._id,s);r.data.success&&(a(e.map(e=>e._id===b._id?r.data.category:e)),d.Ay.success("Category updated"))}else{const r=await n.Er.createCategory(s);r.data.success&&(a([...e,r.data.category]),d.Ay.success("Category created"))}h(!1)}catch(l){var r,t;d.Ay.error((null===(r=l.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to save category")}}}),p&&(0,o.jsx)(x,{onClose:()=>u(!1),onSuccess:()=>{u(!1),N()}})]})}}}]);
//# sourceMappingURL=804.05630072.chunk.js.map