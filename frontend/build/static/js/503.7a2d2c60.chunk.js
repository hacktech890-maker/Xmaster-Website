"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[503],{5992(e,s,r){r.d(s,{A:()=>c});var a=r(5043),t=r(3216),l=r(5475),d=r(5772),i=r(5187),o=r(579);const n=()=>{const[e,s]=(0,a.useState)(!1),r=(0,t.zy)(),n=(0,t.Zp)(),{logout:c}=(0,i.As)(),x=[{name:"Dashboard",path:"/admin/dashboard",icon:d.V5Y},{name:"Videos",path:"/admin/videos",icon:d.pVQ},{name:"Upload",path:"/admin/upload",icon:d.B88},{name:"Categories",path:"/admin/categories",icon:d.QPV},{name:"Comments",path:"/admin/comments",icon:d.mEP},{name:"Duplicates",path:"/admin/duplicates",icon:d.nxz},{name:"Ads",path:"/admin/ads",icon:d.z8N},{name:"Reports",path:"/admin/reports",icon:d.QsL}],m=()=>{c(),n("/xmaster-admin")},h=()=>(0,o.jsxs)("div",{className:"flex flex-col h-full",children:[(0,o.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-dark-100",children:(0,o.jsxs)(l.N_,{to:"/admin/dashboard",className:"flex items-center gap-3",children:[(0,o.jsx)("img",{src:"/logo.jpg",alt:"Xmaster",className:"w-10 h-10 rounded-lg object-cover"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Xmaster"}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),(0,o.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{return(0,o.jsxs)(l.N_,{to:e.path,onClick:()=>s(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ".concat((a=e.path,r.pathname===a?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100")),children:[(0,o.jsx)(e.icon,{className:"w-5 h-5"}),(0,o.jsx)("span",{children:e.name})]},e.path);var a})}),(0,o.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-dark-100 space-y-1",children:[(0,o.jsxs)(l.N_,{to:"/",className:"flex items-center gap-3 px-4 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-100 rounded-lg transition-all",children:[(0,o.jsx)(d.VSk,{className:"w-5 h-5"}),(0,o.jsx)("span",{children:"View Site"})]}),(0,o.jsxs)("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all w-full",children:[(0,o.jsx)(d.QeK,{className:"w-5 h-5"}),(0,o.jsx)("span",{children:"Logout"})]})]})]});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>s(!e),className:"fixed top-4 left-4 z-50 md:hidden p-2 bg-white dark:bg-dark-200 border border-gray-200 dark:border-dark-100 rounded-lg shadow-lg",children:e?(0,o.jsx)(d.yGN,{className:"w-5 h-5"}):(0,o.jsx)(d.ND1,{className:"w-5 h-5"})}),e&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>s(!1)}),(0,o.jsx)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-dark-300 border-r border-gray-200 dark:border-dark-100 z-40 transform transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"," md:translate-x-0"),children:(0,o.jsx)(h,{})})]})},c=e=>{let{children:s,title:r=""}=e;return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)(n,{}),(0,o.jsxs)("div",{className:"flex-1 ml-0 md:ml-64",children:[r&&(0,o.jsx)("div",{className:"bg-white dark:bg-dark-300 border-b border-gray-100 dark:border-dark-100 px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:(0,o.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r})}),(0,o.jsx)("div",{className:"p-4 sm:p-6 lg:p-8",children:s})]})]})})}},9503(e,s,r){r.r(s),r.d(s,{default:()=>f});var a=r(5043),t=r(5475),l=r(5772),d=r(108),i=r(3083),o=r(7734),n=r(2185),c=r(6026),x=r(6150),m=r(3839),h=r(6305),g=r(5992),p=r(579);const b=e=>{let{title:s,value:r,icon:a,color:t="primary",change:l=null}=e;const d={primary:{bg:"bg-red-50 dark:bg-red-900/20",icon:"text-red-500",border:"border-red-100 dark:border-red-800/30"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",icon:"text-blue-500",border:"border-blue-100 dark:border-blue-800/30"},green:{bg:"bg-green-50 dark:bg-green-900/20",icon:"text-green-500",border:"border-green-100 dark:border-green-800/30"},yellow:{bg:"bg-yellow-50 dark:bg-yellow-900/20",icon:"text-yellow-500",border:"border-yellow-100 dark:border-yellow-800/30"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",icon:"text-purple-500",border:"border-purple-100 dark:border-purple-800/30"}},i=d[t]||d.primary;return(0,p.jsx)("div",{className:"bg-white dark:bg-dark-200 rounded-xl p-4 sm:p-6 border ".concat(i.border," transition-all hover:shadow-lg"),children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:s}),(0,p.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mt-1",children:r}),l&&(0,p.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:l})]}),a&&(0,p.jsx)("div",{className:"w-12 h-12 ".concat(i.bg," rounded-xl flex items-center justify-center"),children:(0,p.jsx)(a,{className:"w-6 h-6 ".concat(i.icon)})})]})})};var u=r(6630),j=r(6047);const f=()=>{const[e,s]=(0,a.useState)(null),[r,f]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async()=>{try{const e=await h.Er.getDashboard();e.data.success&&s(e.data)}catch(e){console.error("Failed to fetch dashboard:",e)}finally{f(!1)}})()},[]),r)return(0,p.jsx)(g.A,{title:"Dashboard",children:(0,p.jsx)(u.A,{})});const N=(null===e||void 0===e?void 0:e.stats)||{},w=(null===e||void 0===e?void 0:e.topVideos)||[],y=(null===e||void 0===e?void 0:e.recentUploads)||[],v=(null===e||void 0===e?void 0:e.viewsByDay)||[];return(0,p.jsxs)(g.A,{title:"Dashboard",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,p.jsx)(b,{title:"Total Videos",value:N.totalVideos||0,icon:l.pVQ,color:"primary"}),(0,p.jsx)(b,{title:"Total Views",value:(0,j.OO)(N.totalViews||0),icon:l.Vap,color:"blue"}),(0,p.jsx)(b,{title:"This Week",value:N.weekVideos||0,icon:l.ARf,change:"videos uploaded",color:"green"}),(0,p.jsx)(b,{title:"Pending Reports",value:N.pendingReports||0,icon:l.QsL,color:"yellow"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,p.jsxs)("div",{className:"lg:col-span-2 bg-dark-200 rounded-xl p-6 border border-dark-100",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Views & Uploads (Last 7 Days)"}),(0,p.jsx)("div",{className:"h-80",children:(0,p.jsx)(d.u,{width:"100%",height:"100%",children:(0,p.jsxs)(i.Q,{data:v,children:[(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,p.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),(0,p.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})}),(0,p.jsx)(o.d,{strokeDasharray:"3 3",stroke:"#333"}),(0,p.jsx)(n.W,{dataKey:"_id",stroke:"#666",fontSize:12}),(0,p.jsx)(c.h,{stroke:"#666",fontSize:12}),(0,p.jsx)(x.m,{contentStyle:{backgroundColor:"#1e1e1e",border:"1px solid #333",borderRadius:"8px"}}),(0,p.jsx)(m.G,{type:"monotone",dataKey:"views",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorViews)"})]})})})]}),(0,p.jsxs)("div",{className:"bg-dark-200 rounded-xl p-6 border border-dark-100",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Quick Actions"}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)(t.N_,{to:"/admin/upload",className:"flex items-center justify-between p-4 bg-dark-100 hover:bg-dark-300 rounded-lg transition-colors group",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("div",{className:"w-10 h-10 bg-primary-500/20 rounded-lg flex items-center justify-center",children:(0,p.jsx)(l.B88,{className:"w-5 h-5 text-primary-500"})}),(0,p.jsx)("span",{className:"text-white font-medium",children:"Upload Videos"})]}),(0,p.jsx)(l.dyV,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"})]}),(0,p.jsxs)(t.N_,{to:"/admin/videos",className:"flex items-center justify-between p-4 bg-dark-100 hover:bg-dark-300 rounded-lg transition-colors group",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,p.jsx)(l.pVQ,{className:"w-5 h-5 text-blue-500"})}),(0,p.jsx)("span",{className:"text-white font-medium",children:"Manage Videos"})]}),(0,p.jsx)(l.dyV,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"})]}),(0,p.jsxs)(t.N_,{to:"/admin/categories",className:"flex items-center justify-between p-4 bg-dark-100 hover:bg-dark-300 rounded-lg transition-colors group",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,p.jsx)(l.QPV,{className:"w-5 h-5 text-green-500"})}),(0,p.jsx)("span",{className:"text-white font-medium",children:"Categories"})]}),(0,p.jsx)(l.dyV,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"})]}),(0,p.jsxs)(t.N_,{to:"/admin/ads",className:"flex items-center justify-between p-4 bg-dark-100 hover:bg-dark-300 rounded-lg transition-colors group",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,p.jsx)(l.z8N,{className:"w-5 h-5 text-yellow-500"})}),(0,p.jsx)("span",{className:"text-white font-medium",children:"Manage Ads"})]}),(0,p.jsx)(l.dyV,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"})]})]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,p.jsxs)("div",{className:"bg-dark-200 rounded-xl p-6 border border-dark-100",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Performing Videos"}),(0,p.jsx)("div",{className:"space-y-3",children:w.map((e,s)=>(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("span",{className:"w-6 h-6 bg-primary-500/20 text-primary-500 rounded-full flex items-center justify-center text-sm font-medium",children:s+1}),(0,p.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-10 object-cover rounded"}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-white text-sm font-medium truncate",children:e.title}),(0,p.jsxs)("p",{className:"text-gray-500 text-xs",children:[(0,j.OO)(e.views)," views"]})]})]},e._id))})]}),(0,p.jsxs)("div",{className:"bg-dark-200 rounded-xl p-6 border border-dark-100",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Uploads"}),(0,p.jsx)("div",{className:"space-y-3",children:y.map(e=>(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-10 object-cover rounded"}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-white text-sm font-medium truncate",children:e.title}),(0,p.jsx)("p",{className:"text-gray-500 text-xs",children:(0,j.Yq)(e.uploadDate)})]}),(0,p.jsx)("span",{className:"badge ".concat("public"===e.status?"badge-success":"badge-warning"),children:e.status})]},e._id))})]})]})]})}},6047(e,s,r){r.d(s,{OO:()=>a,Yq:()=>t,sg:()=>l});const a=e=>e?e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString():"0",t=e=>{if(!e)return"Unknown";const s=new Date,r=new Date(e);if(isNaN(r.getTime()))return"Unknown";const a=Math.floor((s-r)/1e3);return a<60?"Just now":a<3600?"".concat(Math.floor(a/60),"m ago"):a<86400?"".concat(Math.floor(a/3600),"h ago"):a<604800?"".concat(Math.floor(a/86400),"d ago"):a<2592e3?"".concat(Math.floor(a/604800),"w ago"):a<31536e3?"".concat(Math.floor(a/2592e3),"mo ago"):"".concat(Math.floor(a/31536e3),"y ago")},l=function(e){let s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,t=new Array(a),l=0;l<a;l++)t[l]=arguments[l];clearTimeout(s),s=setTimeout(()=>e(...t),r)}}}}]);
//# sourceMappingURL=503.7a2d2c60.chunk.js.map