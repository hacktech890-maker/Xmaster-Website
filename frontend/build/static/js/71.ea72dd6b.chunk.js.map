{"version":3,"file":"static/js/71.ea72dd6b.chunk.js","mappings":"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","sources":["components/ads/AdBanner.jsx","components/video/VideoCard.jsx","components/video/VideoGrid.jsx","pages/public/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { publicAPI } from '../../services/api';\r\n\r\nconst AdBanner = ({ placement = 'home_top', className = '' }) => {\r\n  const [ad, setAd] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchAd = async () => {\r\n      try {\r\n        const device = window.innerWidth < 768 ? 'mobile' : 'desktop';\r\n        const response = await publicAPI.getAdByPlacement(placement, device);\r\n        if (response.data?.success && response.data?.ad) {\r\n          setAd(response.data.ad);\r\n          // Record impression\r\n          try {\r\n            await publicAPI.recordAdImpression(response.data.ad._id);\r\n          } catch (e) {\r\n            // Silent fail\r\n          }\r\n        }\r\n      } catch (error) {\r\n        // No ad available - that's fine\r\n      }\r\n    };\r\n\r\n    fetchAd();\r\n  }, [placement]);\r\n\r\n  if (!ad) return null;\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      await publicAPI.recordAdClick(ad._id);\r\n    } catch (e) {\r\n      // Silent fail\r\n    }\r\n  };\r\n\r\n  // HTML ad (like AdSense or custom script)\r\n  if (ad.type === 'html' || ad.type === 'script') {\r\n    return (\r\n      <div className={`ad-container ${className}`}>\r\n        <div dangerouslySetInnerHTML={{ __html: ad.content || ad.code }} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Image/Banner ad\r\n  return (\r\n    <div className={`ad-container ${className}`}>\r\n      <a\r\n        href={ad.url || ad.link || '#'}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer nofollow\"\r\n        onClick={handleClick}\r\n        className=\"block\"\r\n      >\r\n        {ad.image && (\r\n          <img\r\n            src={ad.image}\r\n            alt={ad.title || 'Advertisement'}\r\n            className=\"w-full rounded-lg\"\r\n            loading=\"lazy\"\r\n          />\r\n        )}\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdBanner;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FiEye, FiClock } from \"react-icons/fi\";\r\n\r\nconst formatViews = (views) => {\r\n  if (!views) return \"0\";\r\n  if (views >= 1000000) return (views / 1000000).toFixed(1).replace(/\\.0$/, \"\") + \"M\";\r\n  if (views >= 1000) return (views / 1000).toFixed(1).replace(/\\.0$/, \"\") + \"K\";\r\n  return views.toString();\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return \"Unknown Date\";\r\n  const now = new Date();\r\n  const past = new Date(date);\r\n  if (isNaN(past.getTime())) return \"Unknown Date\";\r\n  const diff = Math.floor((now - past) / 1000);\r\n  if (diff < 60) return \"Just now\";\r\n  if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;\r\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h ago`;\r\n  if (diff < 604800) return `${Math.floor(diff / 86400)}d ago`;\r\n  if (diff < 2592000) return `${Math.floor(diff / 604800)}w ago`;\r\n  if (diff < 31536000) return `${Math.floor(diff / 2592000)}mo ago`;\r\n  return `${Math.floor(diff / 31536000)}y ago`;\r\n};\r\n\r\nconst formatDuration = (duration) => {\r\n  if (!duration) return \"\";\r\n  if (typeof duration === \"string\" && duration.includes(\":\")) {\r\n    if (duration === \"00:00\" || duration === \"0:00\") return \"\";\r\n    return duration;\r\n  }\r\n  if (typeof duration === \"number\" && duration > 0) {\r\n    const mins = Math.floor(duration / 60);\r\n    const secs = Math.floor(duration % 60);\r\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n  }\r\n  return \"\";\r\n};\r\n\r\nconst PLACEHOLDER =\r\n  \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQwIiBoZWlnaHQ9IjM2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMWUxZTFlIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIFRodW1ibmFpbDwvdGV4dD48L3N2Zz4=\";\r\n\r\nconst VideoCard = ({ video, size = \"normal\" }) => {\r\n  const [imageError, setImageError] = useState(false);\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n\r\n  if (!video) return null;\r\n\r\n  const { _id, title, thumbnail, views, duration, uploadDate, createdAt, category, slug, file_code } = video;\r\n\r\n  const realViews = views ?? 0;\r\n  const realDate = uploadDate || createdAt;\r\n  const formattedDuration = formatDuration(duration);\r\n\r\n  const sizes = {\r\n    small: { title: \"text-sm line-clamp-2\", meta: \"text-xs\" },\r\n    normal: { title: \"text-sm sm:text-base line-clamp-2\", meta: \"text-xs sm:text-sm\" },\r\n    large: { title: \"text-lg line-clamp-2\", meta: \"text-sm\" },\r\n  };\r\n  const currentSize = sizes[size] || sizes.normal;\r\n\r\n  const getThumbnailUrl = () => {\r\n    if (imageError) return PLACEHOLDER;\r\n    if (thumbnail && thumbnail.startsWith(\"http\")) return thumbnail;\r\n    if (thumbnail && thumbnail.length > 3) return `https://abyss.to/splash/${thumbnail}.jpg`;\r\n    if (file_code) return `https://abyss.to/splash/${file_code}.jpg`;\r\n    return PLACEHOLDER;\r\n  };\r\n\r\n  return (\r\n    <Link to={`/watch/${_id}${slug ? `/${slug}` : \"\"}`} className=\"group block w-full\">\r\n      <div className=\"bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer\">\r\n        {/* Thumbnail */}\r\n        <div className=\"relative aspect-video bg-gray-800 overflow-hidden\">\r\n          {!imageLoaded && !imageError && (\r\n            <div className=\"absolute inset-0 bg-gray-800 animate-pulse\" />\r\n          )}\r\n          <img\r\n            src={getThumbnailUrl()}\r\n            alt={title || \"Video\"}\r\n            className={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ${imageLoaded ? \"opacity-100\" : \"opacity-0\"}`}\r\n            loading=\"lazy\"\r\n            onError={() => setImageError(true)}\r\n            onLoad={() => setImageLoaded(true)}\r\n          />\r\n          {formattedDuration && (\r\n            <div className=\"absolute bottom-2 right-2 px-2 py-1 bg-black/80 rounded text-white text-xs font-medium flex items-center gap-1\">\r\n              <FiClock className=\"w-3 h-3\" />\r\n              {formattedDuration}\r\n            </div>\r\n          )}\r\n          <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center\">\r\n            <div className=\"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-red-600/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300\">\r\n              <svg className=\"w-6 h-6 sm:w-8 sm:h-8 text-white ml-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info */}\r\n        <div className=\"p-2.5 sm:p-3\">\r\n          <h3 className={`font-medium text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-red-500 transition-colors ${currentSize.title}`}>\r\n            {title || \"Untitled Video\"}\r\n          </h3>\r\n          <div className={`mt-1.5 flex items-center gap-2 sm:gap-3 text-gray-500 dark:text-gray-400 ${currentSize.meta}`}>\r\n            <span className=\"flex items-center gap-1\">\r\n              <FiEye className=\"w-3 h-3 sm:w-3.5 sm:h-3.5\" />\r\n              {formatViews(realViews)} views\r\n            </span>\r\n            <span>‚Ä¢</span>\r\n            <span>{formatDate(realDate)}</span>\r\n          </div>\r\n          {category && (\r\n            <div className=\"mt-1.5\">\r\n              <span className=\"text-xs px-2 py-0.5 bg-gray-100 dark:bg-dark-100 text-gray-600 dark:text-gray-400 rounded-full\">\r\n                {typeof category === \"string\" ? category : category?.name || \"General\"}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default VideoCard;","import React from 'react';\r\nimport VideoCard from './VideoCard';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst VideoGrid = ({ videos = [], loading = false, error = null, emptyMessage = 'No videos found', columns = 4 }) => {\r\n  if (loading) return <LoadingSpinner />;\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"text-red-500 mb-2\">‚ö†Ô∏è</div>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!videos || videos.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"text-4xl mb-4\">üé¨</div>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">{emptyMessage}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const gridCols = {\r\n    1: 'grid-cols-1',\r\n    2: 'grid-cols-1 sm:grid-cols-2',\r\n    3: 'grid-cols-2 sm:grid-cols-2 lg:grid-cols-3',\r\n    4: 'grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4',\r\n    5: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5',\r\n    6: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6',\r\n  };\r\n\r\n  return (\r\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-3 sm:gap-4 md:gap-6`}>\r\n      {videos.map((video) => (\r\n        <VideoCard key={video._id} video={video} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const VideoGridSkeleton = ({ count = 8, columns = 4 }) => {\r\n  const gridCols = {\r\n    4: 'grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4',\r\n  };\r\n\r\n  return (\r\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-3 sm:gap-4 md:gap-6`}>\r\n      {[...Array(count)].map((_, i) => (\r\n        <div key={i} className=\"bg-white dark:bg-dark-200 rounded-xl overflow-hidden animate-pulse\">\r\n          <div className=\"aspect-video bg-gray-200 dark:bg-dark-100\"></div>\r\n          <div className=\"p-3 space-y-2\">\r\n            <div className=\"h-4 bg-gray-200 dark:bg-dark-100 rounded w-3/4\"></div>\r\n            <div className=\"h-3 bg-gray-200 dark:bg-dark-100 rounded w-1/2\"></div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoGrid;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { FiTrendingUp, FiClock, FiStar, FiChevronRight } from 'react-icons/fi';\nimport { publicAPI } from '../../services/api';\nimport VideoGrid, { VideoGridSkeleton } from '../../components/video/VideoGrid';\nimport VideoCard from '../../components/video/VideoCard';\nimport AdBanner from '../../components/ads/AdBanner';\n\nconst HomePage = () => {\n  const [data, setData] = useState({\n    featuredVideos: [],\n    latestVideos: [],\n    trendingVideos: [],\n    categories: [],\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchHomeData = async () => {\n      try {\n        const response = await publicAPI.getHomeData();\n        if (response.data.success) {\n          setData(response.data.data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch home data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchHomeData();\n  }, []);\n\n  return (\n    <>\n      <Helmet>\n        <title>Xmaster - Watch Videos Online</title>\n        <meta name=\"description\" content=\"Watch and enjoy high-quality videos on Xmaster. Your ultimate destination for entertainment.\" />\n      </Helmet>\n\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark-400\">\n        {/* Top Ad Banner */}\n        <AdBanner placement=\"home_top\" className=\"max-w-7xl mx-auto px-4 pt-4\" />\n\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex flex-col lg:flex-row gap-6\">\n            {/* Main Content */}\n            <div className=\"flex-1\">\n              {/* Featured Videos Section */}\n              {data.featuredVideos.length > 0 && (\n                <section className=\"mb-10\">\n                  <SectionHeader\n                    icon={FiStar}\n                    title=\"Featured Videos\"\n                    iconColor=\"text-yellow-500\"\n                  />\n                  {loading ? (\n                    <VideoGridSkeleton count={6} columns={3} />\n                  ) : (\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {data.featuredVideos.slice(0, 6).map((video) => (\n                        <VideoCard key={video._id} video={video} />\n                      ))}\n                    </div>\n                  )}\n                </section>\n              )}\n\n              {/* In-feed Ad */}\n              <AdBanner placement=\"home_infeed\" className=\"mb-8\" />\n\n              {/* Latest Videos Section */}\n              <section className=\"mb-10\">\n                <SectionHeader\n                  icon={FiClock}\n                  title=\"Latest Videos\"\n                  link=\"/search?sort=newest\"\n                  linkText=\"View All\"\n                  iconColor=\"text-blue-500\"\n                />\n                {loading ? (\n                  <VideoGridSkeleton count={8} />\n                ) : (\n                  <VideoGrid videos={data.latestVideos} columns={4} />\n                )}\n              </section>\n\n              {/* Another In-feed Ad */}\n              <AdBanner placement=\"home_infeed\" className=\"mb-8\" />\n\n              {/* Trending Videos Section */}\n              <section className=\"mb-10\">\n                <SectionHeader\n                  icon={FiTrendingUp}\n                  title=\"Trending Now\"\n                  link=\"/trending\"\n                  linkText=\"View All\"\n                  iconColor=\"text-red-500\"\n                />\n                {loading ? (\n                  <VideoGridSkeleton count={8} />\n                ) : (\n                  <VideoGrid videos={data.trendingVideos} columns={4} />\n                )}\n              </section>\n\n              {/* Categories Section */}\n              {data.categories.length > 0 && (\n                <section id=\"categories\" className=\"mb-10\">\n                  <SectionHeader\n                    title=\"Browse Categories\"\n                    iconColor=\"text-purple-500\"\n                  />\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n                    {data.categories.map((category) => (\n                      <CategoryCard key={category._id} category={category} />\n                    ))}\n                  </div>\n                </section>\n              )}\n            </div>\n\n            {/* Sidebar */}\n            <aside className=\"w-full lg:w-80 flex-shrink-0\">\n              <div className=\"sticky top-20 space-y-6\">\n                {/* Sidebar Ad */}\n                <AdBanner placement=\"home_sidebar\" />\n\n                {/* Quick Stats or Popular Tags could go here */}\n                <div className=\"card p-4\">\n                  <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">\n                    Quick Links\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <Link\n                      to=\"/trending\"\n                      className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors\"\n                    >\n                      <FiTrendingUp className=\"w-5 h-5 text-primary-500\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Trending Videos</span>\n                    </Link>\n                    <Link\n                      to=\"/search?sort=newest\"\n                      className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors\"\n                    >\n                      <FiClock className=\"w-5 h-5 text-blue-500\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Latest Uploads</span>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </aside>\n          </div>\n        </div>\n\n        {/* Footer Ad */}\n        <AdBanner placement=\"home_footer\" className=\"max-w-7xl mx-auto px-4 pb-6\" />\n      </div>\n    </>\n  );\n};\n\n// Section Header Component\nconst SectionHeader = ({ icon: Icon, title, link, linkText, iconColor = 'text-primary-500' }) => (\n  <div className=\"flex items-center justify-between mb-6\">\n    <h2 className=\"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white\">\n      {Icon && <Icon className={`w-6 h-6 ${iconColor}`} />}\n      {title}\n    </h2>\n    {link && (\n      <Link\n        to={link}\n        className=\"flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors\"\n      >\n        {linkText}\n        <FiChevronRight className=\"w-4 h-4\" />\n      </Link>\n    )}\n  </div>\n);\n\n// Category Card Component\nconst CategoryCard = ({ category }) => (\n  <Link\n    to={`/category/${category.slug}`}\n    className=\"group card p-4 text-center hover:shadow-lg transition-all\"\n    style={{ borderTop: `3px solid ${category.color || '#ef4444'}` }}\n  >\n    <div className=\"text-3xl mb-2\">{category.icon || 'üìÅ'}</div>\n    <h3 className=\"font-medium text-gray-900 dark:text-white group-hover:text-primary-600 transition-colors\">\n      {category.name}\n    </h3>\n    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n      {category.videoCount || 0} videos\n    </p>\n  </Link>\n);\n\nexport default HomePage;"],"names":["_ref","placement","className","ad","setAd","useState","useEffect","async","_response$data","_response$data2","device","window","innerWidth","response","publicAPI","getAdByPlacement","data","success","recordAdImpression","_id","e","error","fetchAd","type","_jsx","concat","children","dangerouslySetInnerHTML","__html","content","code","href","url","link","target","rel","onClick","recordAdClick","image","src","alt","title","loading","formatViews","views","toFixed","replace","toString","formatDate","date","now","Date","past","isNaN","getTime","diff","Math","floor","PLACEHOLDER","video","size","imageError","setImageError","imageLoaded","setImageLoaded","thumbnail","duration","uploadDate","createdAt","category","slug","file_code","realViews","realDate","formattedDuration","includes","mins","secs","padStart","formatDuration","sizes","small","meta","normal","large","currentSize","Link","to","_jsxs","startsWith","length","onError","onLoad","FiClock","fill","viewBox","d","FiEye","name","VideoGridSkeleton","_ref2","count","columns","gridCols","Array","map","_","i","videos","emptyMessage","LoadingSpinner","VideoCard","SectionHeader","icon","Icon","linkText","iconColor","FiChevronRight","CategoryCard","style","borderTop","color","videoCount","HomePage","setData","featuredVideos","latestVideos","trendingVideos","categories","setLoading","getHomeData","console","fetchHomeData","_Fragment","Helmet","AdBanner","FiStar","slice","VideoGrid","FiTrendingUp","id"],"sourceRoot":""}