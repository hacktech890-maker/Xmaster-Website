"use strict";(self.webpackChunkxmaster_frontend=self.webpackChunkxmaster_frontend||[]).push([[71],{8227(e,s,a){a.d(s,{A:()=>i});var t=a(5043),r=a(6305),l=a(6047),c=a(579);const i=e=>{let{placement:s,className:a=""}=e;const[i,n]=(0,t.useState)(null),[o,d]=(0,t.useState)(!0),m=(0,t.useRef)(null),x=(0,t.useRef)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=(0,l.ZI)(),a=await r.G.getAdByPlacement(s,e);a.data.success&&a.data.ad&&n(a.data.ad)}catch(e){console.error("Failed to fetch ad:",e)}finally{d(!1)}})()},[s]),(0,t.useEffect)(()=>{if(!i||x.current)return;const e=new IntersectionObserver(s=>{s[0].isIntersecting&&(r.G.recordAdImpression(i._id),x.current=!0,e.disconnect())},{threshold:.5});return m.current&&e.observe(m.current),()=>e.disconnect()},[i]);return o||!i?null:(0,c.jsx)("div",{ref:m,className:"ad-banner ".concat(a),onClick:()=>{i&&r.G.recordAdClick(i._id)},children:"script"===i.type||"html"===i.type?(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:i.code}}):"image"===i.type&&i.imageUrl?(0,c.jsx)("a",{href:i.targetUrl,target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)("img",{src:i.imageUrl,alt:i.name,className:"max-w-full h-auto"})}):(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:i.code}})})}},1932(e,s,a){a.d(s,{A:()=>i});a(5043);var t=a(5475),r=a(5772),l=a(6047),c=a(579);const i=e=>{let{video:s,size:a="normal"}=e;if(!s)return null;const{_id:i,title:n,thumbnail:o,views:d,duration:m,uploadDate:x,category:g,slug:h}=s,p={small:{card:"w-full",image:"aspect-video",title:"text-sm line-clamp-2",meta:"text-xs"},normal:{card:"w-full",image:"aspect-video",title:"text-base line-clamp-2",meta:"text-sm"},large:{card:"w-full",image:"aspect-video",title:"text-lg line-clamp-2",meta:"text-sm"}},u=p[a]||p.normal;return(0,c.jsx)(t.N_,{to:"/watch/".concat(i).concat(h?"/".concat(h):""),className:"group block ".concat(u.card),children:(0,c.jsxs)("div",{className:"card card-hover",children:[(0,c.jsxs)("div",{className:"relative ".concat(u.image," bg-gray-200 dark:bg-dark-100 overflow-hidden"),children:[(0,c.jsx)("img",{src:o||"/placeholder-video.jpg",alt:n,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:e=>{e.target.src="https://via.placeholder.com/640x360?text=Video"}}),m&&(0,c.jsxs)("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/80 rounded text-white text-xs font-medium flex items-center gap-1",children:[(0,c.jsx)(r.Ohp,{className:"w-3 h-3"}),(0,l.a3)(m)]}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:(0,c.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary-600/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,c.jsx)("svg",{className:"w-8 h-8 text-white ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}),(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-500 transition-colors ".concat(u.title),children:n}),(0,c.jsxs)("div",{className:"mt-2 flex items-center gap-3 text-gray-500 dark:text-gray-400 ".concat(u.meta),children:[(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(r.Vap,{className:"w-3.5 h-3.5"}),(0,l.OO)(d)," views"]}),(0,c.jsx)("span",{children:"\u2022"}),(0,c.jsx)("span",{children:(0,l.Yq)(x)})]}),g&&(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-dark-100 text-gray-600 dark:text-gray-400 rounded-full",children:g.name})})]})]})})}},958(e,s,a){a.d(s,{A:()=>i,F:()=>c});a(5043);var t=a(1932),r=a(6630),l=a(579);const c=e=>{let{count:s=8,columns:a=4}=e;const t={4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return(0,l.jsx)("div",{className:"grid ".concat(t[a]||t[4]," gap-4 md:gap-6"),children:[...Array(s)].map((e,s)=>(0,l.jsxs)("div",{className:"card animate-pulse",children:[(0,l.jsx)("div",{className:"aspect-video bg-gray-200 dark:bg-dark-100"}),(0,l.jsxs)("div",{className:"p-3 space-y-2",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-dark-100 rounded w-3/4"}),(0,l.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-dark-100 rounded w-1/2"})]})]},s))})},i=e=>{let{videos:s=[],loading:a=!1,error:c=null,emptyMessage:i="No videos found",columns:n=4}=e;if(a)return(0,l.jsx)(r.A,{});if(c)return(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-red-500 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c})]});if(!s||0===s.length)return(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfac"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:i})]});const o={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",5:"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",6:"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6"};return(0,l.jsx)("div",{className:"grid ".concat(o[n]||o[4]," gap-4 md:gap-6"),children:s.map(e=>(0,l.jsx)(t.A,{video:e},e._id))})}},9071(e,s,a){a.r(s),a.d(s,{default:()=>h});var t=a(5043),r=a(5475),l=a(1344),c=a(5772),i=a(6305),n=a(958),o=a(1932),d=a(8227),m=a(579);const x=e=>{let{icon:s,title:a,link:t,linkText:l,iconColor:i="text-primary-500"}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,m.jsxs)("h2",{className:"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white",children:[s&&(0,m.jsx)(s,{className:"w-6 h-6 ".concat(i)}),a]}),t&&(0,m.jsxs)(r.N_,{to:t,className:"flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:[l,(0,m.jsx)(c.fOo,{className:"w-4 h-4"})]})]})},g=e=>{let{category:s}=e;return(0,m.jsxs)(r.N_,{to:"/category/".concat(s.slug),className:"group card p-4 text-center hover:shadow-lg transition-all",style:{borderTop:"3px solid ".concat(s.color||"#ef4444")},children:[(0,m.jsx)("div",{className:"text-3xl mb-2",children:s.icon||"\ud83d\udcc1"}),(0,m.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-primary-600 transition-colors",children:s.name}),(0,m.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[s.videoCount||0," videos"]})]})},h=()=>{const[e,s]=(0,t.useState)({featuredVideos:[],latestVideos:[],trendingVideos:[],categories:[]}),[a,h]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=await i.G.getHomeData();e.data.success&&s(e.data.data)}catch(e){console.error("Failed to fetch home data:",e)}finally{h(!1)}})()},[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.mg,{children:[(0,m.jsx)("title",{children:"Xmaster - Watch Videos Online"}),(0,m.jsx)("meta",{name:"description",content:"Watch and enjoy high-quality videos on Xmaster. Your ultimate destination for entertainment."})]}),(0,m.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-400",children:[(0,m.jsx)(d.A,{placement:"home_top",className:"max-w-7xl mx-auto px-4 pt-4"}),(0,m.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,m.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,m.jsxs)("div",{className:"flex-1",children:[e.featuredVideos.length>0&&(0,m.jsxs)("section",{className:"mb-10",children:[(0,m.jsx)(x,{icon:c.usP,title:"Featured Videos",iconColor:"text-yellow-500"}),a?(0,m.jsx)(n.F,{count:6,columns:3}):(0,m.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.featuredVideos.slice(0,6).map(e=>(0,m.jsx)(o.A,{video:e},e._id))})]}),(0,m.jsx)(d.A,{placement:"home_infeed",className:"mb-8"}),(0,m.jsxs)("section",{className:"mb-10",children:[(0,m.jsx)(x,{icon:c.Ohp,title:"Latest Videos",link:"/search?sort=newest",linkText:"View All",iconColor:"text-blue-500"}),a?(0,m.jsx)(n.F,{count:8}):(0,m.jsx)(n.A,{videos:e.latestVideos,columns:4})]}),(0,m.jsx)(d.A,{placement:"home_infeed",className:"mb-8"}),(0,m.jsxs)("section",{className:"mb-10",children:[(0,m.jsx)(x,{icon:c.ARf,title:"Trending Now",link:"/trending",linkText:"View All",iconColor:"text-red-500"}),a?(0,m.jsx)(n.F,{count:8}):(0,m.jsx)(n.A,{videos:e.trendingVideos,columns:4})]}),e.categories.length>0&&(0,m.jsxs)("section",{id:"categories",className:"mb-10",children:[(0,m.jsx)(x,{title:"Browse Categories",iconColor:"text-purple-500"}),(0,m.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.categories.map(e=>(0,m.jsx)(g,{category:e},e._id))})]})]}),(0,m.jsx)("aside",{className:"w-full lg:w-80 flex-shrink-0",children:(0,m.jsxs)("div",{className:"sticky top-20 space-y-6",children:[(0,m.jsx)(d.A,{placement:"home_sidebar"}),(0,m.jsxs)("div",{className:"card p-4",children:[(0,m.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Links"}),(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsxs)(r.N_,{to:"/trending",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors",children:[(0,m.jsx)(c.ARf,{className:"w-5 h-5 text-primary-500"}),(0,m.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Trending Videos"})]}),(0,m.jsxs)(r.N_,{to:"/search?sort=newest",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors",children:[(0,m.jsx)(c.Ohp,{className:"w-5 h-5 text-blue-500"}),(0,m.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Latest Uploads"})]})]})]})]})})]})}),(0,m.jsx)(d.A,{placement:"home_footer",className:"max-w-7xl mx-auto px-4 pb-6"})]})]})}}}]);
//# sourceMappingURL=71.d8ba48df.chunk.js.map