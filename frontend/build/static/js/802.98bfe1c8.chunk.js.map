{"version":3,"file":"static/js/802.98bfe1c8.chunk.js","mappings":"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","sources":["components/ads/AdBanner.jsx","components/common/Pagination.jsx","components/video/VideoCard.jsx","components/video/VideoGrid.jsx","pages/public/SearchPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { publicAPI } from '../../services/api';\nimport { getDeviceType } from '../../utils/helpers';\n\nconst AdBanner = ({ placement, className = '' }) => {\n  const [ad, setAd] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const adRef = useRef(null);\n  const impressionRecorded = useRef(false);\n\n  useEffect(() => {\n    const fetchAd = async () => {\n      try {\n        const device = getDeviceType();\n        const response = await publicAPI.getAdByPlacement(placement, device);\n        if (response.data.success && response.data.ad) {\n          setAd(response.data.ad);\n        }\n      } catch (error) {\n        console.error('Failed to fetch ad:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAd();\n  }, [placement]);\n\n  // Record impression when ad is visible\n  useEffect(() => {\n    if (!ad || impressionRecorded.current) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          publicAPI.recordAdImpression(ad._id);\n          impressionRecorded.current = true;\n          observer.disconnect();\n        }\n      },\n      { threshold: 0.5 }\n    );\n\n    if (adRef.current) {\n      observer.observe(adRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [ad]);\n\n  const handleClick = () => {\n    if (ad) {\n      publicAPI.recordAdClick(ad._id);\n    }\n  };\n\n  if (loading || !ad) {\n    return null;\n  }\n\n  return (\n    <div \n      ref={adRef}\n      className={`ad-banner ${className}`}\n      onClick={handleClick}\n    >\n      {ad.type === 'script' || ad.type === 'html' ? (\n        <div dangerouslySetInnerHTML={{ __html: ad.code }} />\n      ) : ad.type === 'image' && ad.imageUrl ? (\n        <a href={ad.targetUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n          <img \n            src={ad.imageUrl} \n            alt={ad.name}\n            className=\"max-w-full h-auto\"\n          />\n        </a>\n      ) : (\n        <div dangerouslySetInnerHTML={{ __html: ad.code }} />\n      )}\n    </div>\n  );\n};\n\nexport default AdBanner;","import React from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\n\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  if (totalPages <= 1) return null;\n\n  const getPageNumbers = () => {\n    const pages = [];\n    const showEllipsis = totalPages > 7;\n\n    if (!showEllipsis) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      if (currentPage <= 4) {\n        for (let i = 1; i <= 5; i++) pages.push(i);\n        pages.push('...');\n        pages.push(totalPages);\n      } else if (currentPage >= totalPages - 3) {\n        pages.push(1);\n        pages.push('...');\n        for (let i = totalPages - 4; i <= totalPages; i++) pages.push(i);\n      } else {\n        pages.push(1);\n        pages.push('...');\n        for (let i = currentPage - 1; i <= currentPage + 1; i++) pages.push(i);\n        pages.push('...');\n        pages.push(totalPages);\n      }\n    }\n\n    return pages;\n  };\n\n  return (\n    <div className=\"flex items-center justify-center gap-2 mt-8\">\n      {/* Previous Button */}\n      <button\n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n        className=\"p-2 rounded-lg bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n      >\n        <FiChevronLeft className=\"w-5 h-5\" />\n      </button>\n\n      {/* Page Numbers */}\n      <div className=\"flex items-center gap-1\">\n        {getPageNumbers().map((page, index) => (\n          <React.Fragment key={index}>\n            {page === '...' ? (\n              <span className=\"px-3 py-2 text-gray-500\">...</span>\n            ) : (\n              <button\n                onClick={() => onPageChange(page)}\n                className={`min-w-[40px] h-10 rounded-lg font-medium transition-colors ${\n                  currentPage === page\n                    ? 'bg-primary-600 text-white'\n                    : 'bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 text-gray-700 dark:text-gray-300'\n                }`}\n              >\n                {page}\n              </button>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n\n      {/* Next Button */}\n      <button\n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n        className=\"p-2 rounded-lg bg-gray-100 dark:bg-dark-200 hover:bg-gray-200 dark:hover:bg-dark-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n      >\n        <FiChevronRight className=\"w-5 h-5\" />\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiEye, FiClock } from 'react-icons/fi';\nimport { formatViews, formatDate, formatDuration } from '../../utils/helpers';\n\nconst VideoCard = ({ video, size = 'normal' }) => {\n  if (!video) return null;\n\n  const { _id, title, thumbnail, views, duration, uploadDate, category, slug } = video;\n\n  const sizes = {\n    small: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-sm line-clamp-2',\n      meta: 'text-xs',\n    },\n    normal: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-base line-clamp-2',\n      meta: 'text-sm',\n    },\n    large: {\n      card: 'w-full',\n      image: 'aspect-video',\n      title: 'text-lg line-clamp-2',\n      meta: 'text-sm',\n    },\n  };\n\n  const currentSize = sizes[size] || sizes.normal;\n\n  return (\n    <Link\n      to={`/watch/${_id}${slug ? `/${slug}` : ''}`}\n      className={`group block ${currentSize.card}`}\n    >\n      <div className=\"card card-hover\">\n        {/* Thumbnail */}\n        <div className={`relative ${currentSize.image} bg-gray-200 dark:bg-dark-100 overflow-hidden`}>\n          <img\n            src={thumbnail || '/placeholder-video.jpg'}\n            alt={title}\n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n            loading=\"lazy\"\n            onError={(e) => {\n              e.target.src = 'https://via.placeholder.com/640x360?text=Video';\n            }}\n          />\n          \n          {/* Duration Badge */}\n          {duration && (\n            <div className=\"absolute bottom-2 right-2 px-2 py-1 bg-black/80 rounded text-white text-xs font-medium flex items-center gap-1\">\n              <FiClock className=\"w-3 h-3\" />\n              {formatDuration(duration)}\n            </div>\n          )}\n          \n          {/* Hover Overlay */}\n          <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center\">\n            <div className=\"w-16 h-16 rounded-full bg-primary-600/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300\">\n              <svg className=\"w-8 h-8 text-white ml-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        {/* Info */}\n        <div className=\"p-3\">\n          <h3 className={`font-medium text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-500 transition-colors ${currentSize.title}`}>\n            {title}\n          </h3>\n          \n          <div className={`mt-2 flex items-center gap-3 text-gray-500 dark:text-gray-400 ${currentSize.meta}`}>\n            {/* Views */}\n            <span className=\"flex items-center gap-1\">\n              <FiEye className=\"w-3.5 h-3.5\" />\n              {formatViews(views)} views\n            </span>\n            \n            {/* Date */}\n            <span>‚Ä¢</span>\n            <span>{formatDate(uploadDate)}</span>\n          </div>\n\n          {/* Category */}\n          {category && (\n            <div className=\"mt-2\">\n              <span className=\"text-xs px-2 py-1 bg-gray-100 dark:bg-dark-100 text-gray-600 dark:text-gray-400 rounded-full\">\n                {category.name}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default VideoCard;","import React from 'react';\nimport VideoCard from './VideoCard';\nimport LoadingSpinner from '../common/LoadingSpinner';\n\nconst VideoGrid = ({ \n  videos = [], \n  loading = false, \n  error = null,\n  emptyMessage = 'No videos found',\n  columns = 4 \n}) => {\n  // Loading state\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-red-500 mb-2\">‚ö†Ô∏è</div>\n        <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!videos || videos.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-4xl mb-4\">üé¨</div>\n        <p className=\"text-gray-600 dark:text-gray-400\">{emptyMessage}</p>\n      </div>\n    );\n  }\n\n  const gridCols = {\n    1: 'grid-cols-1',\n    2: 'grid-cols-1 sm:grid-cols-2',\n    3: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3',\n    4: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n    5: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5',\n    6: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6',\n  };\n\n  return (\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-4 md:gap-6`}>\n      {videos.map((video) => (\n        <VideoCard key={video._id} video={video} />\n      ))}\n    </div>\n  );\n};\n\n// Skeleton loader for video grid\nexport const VideoGridSkeleton = ({ count = 8, columns = 4 }) => {\n  const gridCols = {\n    4: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n  };\n\n  return (\n    <div className={`grid ${gridCols[columns] || gridCols[4]} gap-4 md:gap-6`}>\n      {[...Array(count)].map((_, i) => (\n        <div key={i} className=\"card animate-pulse\">\n          <div className=\"aspect-video bg-gray-200 dark:bg-dark-100\"></div>\n          <div className=\"p-3 space-y-2\">\n            <div className=\"h-4 bg-gray-200 dark:bg-dark-100 rounded w-3/4\"></div>\n            <div className=\"h-3 bg-gray-200 dark:bg-dark-100 rounded w-1/2\"></div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default VideoGrid;","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { FiSearch, FiFilter, FiX } from 'react-icons/fi';\nimport { publicAPI } from '../../services/api';\nimport VideoGrid from '../../components/video/VideoGrid';\nimport Pagination from '../../components/common/Pagination';\nimport AdBanner from '../../components/ads/AdBanner';\n\nconst SearchPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { tag } = useParams();\n  \n  const query = searchParams.get('q') || '';\n  const sort = searchParams.get('sort') || 'relevance';\n  const category = searchParams.get('category') || '';\n  const page = parseInt(searchParams.get('page')) || 1;\n\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState({ page: 1, pages: 1, total: 0 });\n  const [categories, setCategories] = useState([]);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Fetch categories for filter\n  useEffect(() => {\n    publicAPI.getCategories()\n      .then(res => {\n        if (res.data.success) {\n          setCategories(res.data.categories);\n        }\n      })\n      .catch(console.error);\n  }, []);\n\n  // Fetch search results\n  useEffect(() => {\n    const fetchResults = async () => {\n      setLoading(true);\n      try {\n        let response;\n        \n        if (tag) {\n          // Search by tag\n          response = await publicAPI.searchByTag(tag, { page, sort, limit: 20 });\n        } else {\n          // Normal search\n          response = await publicAPI.searchVideos({ \n            q: query, \n            page, \n            sort, \n            category,\n            limit: 20 \n          });\n        }\n\n        if (response.data.success) {\n          setVideos(response.data.videos);\n          setPagination(response.data.pagination);\n        }\n      } catch (error) {\n        console.error('Search failed:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchResults();\n  }, [query, sort, category, page, tag]);\n\n  const handleSortChange = (newSort) => {\n    setSearchParams(prev => {\n      prev.set('sort', newSort);\n      prev.set('page', '1');\n      return prev;\n    });\n  };\n\n  const handleCategoryChange = (newCategory) => {\n    setSearchParams(prev => {\n      if (newCategory) {\n        prev.set('category', newCategory);\n      } else {\n        prev.delete('category');\n      }\n      prev.set('page', '1');\n      return prev;\n    });\n  };\n\n  const handlePageChange = (newPage) => {\n    setSearchParams(prev => {\n      prev.set('page', newPage.toString());\n      return prev;\n    });\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const sortOptions = [\n    { value: 'relevance', label: 'Relevance' },\n    { value: 'newest', label: 'Newest' },\n    { value: 'oldest', label: 'Oldest' },\n    { value: 'views', label: 'Most Viewed' },\n    { value: 'likes', label: 'Most Liked' },\n  ];\n\n  const pageTitle = tag \n    ? `#${tag} - Tag Results` \n    : query \n      ? `Search: ${query}` \n      : 'Browse Videos';\n\n  return (\n    <>\n      <Helmet>\n        <title>{pageTitle} - Xmaster</title>\n      </Helmet>\n\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark-400\">\n        {/* Search Header */}\n        <div className=\"bg-white dark:bg-dark-300 border-b border-gray-100 dark:border-dark-100\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                  {tag ? (\n                    <>\n                      <span className=\"text-primary-500\">#</span>{tag}\n                    </>\n                  ) : query ? (\n                    <>\n                      Results for \"<span className=\"text-primary-500\">{query}</span>\"\n                    </>\n                  ) : (\n                    'Browse Videos'\n                  )}\n                </h1>\n                <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n                  {pagination.total} videos found\n                </p>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                {/* Sort Dropdown */}\n                <select\n                  value={sort}\n                  onChange={(e) => handleSortChange(e.target.value)}\n                  className=\"input-field py-2 pr-8\"\n                >\n                  {sortOptions.map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n\n                {/* Filter Toggle (Mobile) */}\n                <button\n                  onClick={() => setShowFilters(!showFilters)}\n                  className=\"sm:hidden p-2 bg-gray-100 dark:bg-dark-200 rounded-lg\"\n                >\n                  <FiFilter className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Filters */}\n            <div className={`mt-4 ${showFilters ? 'block' : 'hidden sm:block'}`}>\n              <div className=\"flex flex-wrap gap-2\">\n                <button\n                  onClick={() => handleCategoryChange('')}\n                  className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\n                    !category\n                      ? 'bg-primary-600 text-white'\n                      : 'bg-gray-100 dark:bg-dark-200 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-100'\n                  }`}\n                >\n                  All\n                </button>\n                {categories.map(cat => (\n                  <button\n                    key={cat._id}\n                    onClick={() => handleCategoryChange(cat._id)}\n                    className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\n                      category === cat._id\n                        ? 'bg-primary-600 text-white'\n                        : 'bg-gray-100 dark:bg-dark-200 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-dark-100'\n                    }`}\n                  >\n                    {cat.name}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Top Ad */}\n        <AdBanner placement=\"search_top\" className=\"max-w-7xl mx-auto px-4 pt-6\" />\n\n        {/* Results */}\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <VideoGrid \n            videos={videos} \n            loading={loading}\n            emptyMessage={\n              query \n                ? `No videos found for \"${query}\"`\n                : 'No videos found'\n            }\n          />\n\n          {/* Pagination */}\n          <Pagination\n            currentPage={pagination.page}\n            totalPages={pagination.pages}\n            onPageChange={handlePageChange}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchPage;"],"names":["_ref","placement","className","ad","setAd","useState","loading","setLoading","adRef","useRef","impressionRecorded","useEffect","async","device","getDeviceType","response","publicAPI","getAdByPlacement","data","success","error","console","fetchAd","current","observer","IntersectionObserver","entries","isIntersecting","recordAdImpression","_id","disconnect","threshold","observe","_jsx","ref","concat","onClick","handleClick","recordAdClick","children","type","dangerouslySetInnerHTML","__html","code","imageUrl","href","targetUrl","target","rel","src","alt","name","currentPage","totalPages","onPageChange","_jsxs","disabled","FiChevronLeft","getPageNumbers","pages","i","push","map","page","index","React","FiChevronRight","video","size","title","thumbnail","views","duration","uploadDate","category","slug","sizes","small","card","image","meta","normal","large","currentSize","Link","to","onError","e","FiClock","formatDuration","fill","viewBox","d","FiEye","formatViews","formatDate","VideoGridSkeleton","_ref2","count","columns","gridCols","Array","_","videos","emptyMessage","LoadingSpinner","length","VideoCard","SearchPage","searchParams","setSearchParams","useSearchParams","tag","useParams","query","get","sort","parseInt","setVideos","pagination","setPagination","total","categories","setCategories","showFilters","setShowFilters","getCategories","then","res","catch","searchByTag","limit","searchVideos","q","fetchResults","handleCategoryChange","newCategory","prev","set","delete","pageTitle","_Fragment","Helmet","value","onChange","handleSortChange","newSort","label","option","FiFilter","cat","AdBanner","VideoGrid","Pagination","newPage","toString","window","scrollTo","top","behavior"],"sourceRoot":""}